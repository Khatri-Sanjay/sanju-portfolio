import{a as D,b as $}from"./chunk-3OVJXDTV.js";import{d as F}from"./chunk-W4KLRBDY.js";import{a as j}from"./chunk-U45NOCXC.js";import{a as L}from"./chunk-6ISKYHQZ.js";import"./chunk-7QMT4KPZ.js";import"./chunk-IX4BXUUA.js";import"./chunk-YV3YPEEL.js";import{h as O,n as T}from"./chunk-7RVFBW4V.js";import{Db as f,Ib as _,Jb as B,Kb as b,Lb as C,Mb as n,Nb as o,Ob as d,Sb as I,Wb as h,Xb as s,cb as y,fc as a,gc as c,hb as r,hc as k,ja as g,pc as P,qc as S,ra as v,rc as E,sa as u,sb as w,sc as M,xb as x}from"./chunk-HFT7XNML.js";import"./chunk-66YHNWRR.js";var z=i=>({"liked-post":i}),H=i=>({liked:i}),R=(i,t)=>t.postId;function N(i,t){if(i&1&&d(0,"img",8),i&2){let e=s().$implicit;f("src",e.imageUrl,y)("alt",e.title)}}function U(i,t){i&1&&(n(0,"div",9)(1,"span"),a(2,"Blog"),o()())}function q(i,t){i&1&&(n(0,"div",10),a(1,"\u2764\uFE0F"),o())}function K(i,t){if(i&1&&(n(0,"span",25),a(1),o()),i&2){let e=t.$implicit;r(),k(" ",e," ")}}function Y(i,t){if(i&1&&(n(0,"span",26),a(1),o()),i&2){let e=s().$implicit;r(),k(" +",e.tags.length-5," more ")}}function G(i,t){if(i&1){let e=I();n(0,"div",5)(1,"article",6),h("dblclick",function(){let p=v(e).$implicit,m=s();return u(m.handleDoubleClick(p))}),n(2,"div",7),x(3,N,1,2,"img",8)(4,U,3,0,"div",9)(5,q,2,0,"div",10),n(6,"div",11)(7,"button",12),d(8,"i",13),o()()(),n(9,"div",14)(10,"div",15)(11,"div",16),d(12,"img",17),o(),n(13,"div",18)(14,"h6",19),a(15),o(),n(16,"div",20)(17,"span"),a(18),S(19,"convertToStandardDateTime"),S(20,"date"),o()()()(),n(21,"h5",21),a(22),o(),n(23,"p",22),a(24),o(),n(25,"div",23)(26,"div",24),b(27,K,2,1,"span",25,B),x(29,Y,2,1,"span",26),o(),n(30,"div",27)(31,"div",28)(32,"button",29),h("click",function(p){let m=v(e).$implicit,V=s();return u(V.handleLikeClick(m,p))}),d(33,"i",30),n(34,"span"),a(35),o()(),n(36,"button",31),d(37,"i",32),n(38,"span"),a(39),o()()(),n(40,"a",33),h("click",function(){let p=v(e).$implicit,m=s();return u(m.navigateToPost(p.postId))}),a(41," Read More "),o()()()()()()}if(i&2){let e=t.$implicit,l=s();r(),f("ngClass",P(17,z,l.likedPosts[e.postId])),r(2),_(e.imageUrl?3:4),r(2),_(l.animatingPosts[e.postId]?5:-1),r(10),c("Sanjay Khatri"),r(3),c(M(20,14,E(19,12,e.updatedAt),"medium")),r(4),c(e.title),r(2),c(e.description),r(3),C(e.tags.slice(0,5)),r(2),_(e.tags.length>5?29:-1),r(3),f("ngClass",P(19,H,l.likedPosts[e.postId])),r(),f("ngClass",l.likedPosts[e.postId]?"bi-heart-fill":"bi-heart"),r(2),c((e==null?null:e.likes)||0),r(4),c(e==null||e.comments==null?null:e.comments.length)}}var A=class i{posts=[];blogService=g(D);router=g(F);toastrService=g(L);spinnerService=g(j);likedPosts={};animatingPosts={};ngOnInit(){this.spinnerService.show(),this.blogService.getAllBlogs().subscribe(t=>{this.posts=t,console.log("Blogs received:",t),this.spinnerService.hide()},t=>{this.spinnerService.hide(),console.error("Error fetching blogs:",t)},()=>{this.spinnerService.hide(),console.log("Blog request completed")})}navigateToPost(t){this.router.navigate(["/portfolio/post",t])}handleDoubleClick(t){this.likedPosts[t.postId]||(t.likes=(t.likes||0)+1,this.likedPosts[t.postId]=!0,this.showHeartAnimation(t.postId),this.updatePost(t))}handleLikeClick(t,e){e.stopPropagation(),this.likedPosts[t.postId]?(t.likes=Math.max(0,(t.likes||1)-1),this.likedPosts[t.postId]=!1):(t.likes=(t.likes||0)+1,this.likedPosts[t.postId]=!0,this.showButtonAnimation(t.postId)),this.updatePost(t)}showHeartAnimation(t){this.animatingPosts[t]=!0,setTimeout(()=>{this.animatingPosts[t]=!1},1e3)}showButtonAnimation(t){}updatePost(t){this.blogService.updateBlog(t.postId,t).subscribe({next:()=>{},error:e=>this.handleError(e,"Failed to update post."),complete:()=>this.spinnerService.hide()})}handleError(t,e){console.error(t),this.toastrService.error(e),this.spinnerService.hide()}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=w({type:i,selectors:[["app-blog-list"]],decls:9,vars:0,consts:[[1,"container-fluid","container-lg","py-5","py-lg-5"],[1,"text-center","mb-4","mb-lg-5"],[1,"display-4","fw-bold","mb-3"],[1,"lead","text-muted","w-lg-75","mx-auto"],[1,"row","row-cols-1","row-cols-md-2","row-cols-lg-3","g-4"],[1,"col"],[1,"card","h-100","shadow-sm","border-0","transition-hover","post-card",3,"dblclick","ngClass"],[1,"position-relative","image-container"],[1,"card-img-top","object-fit-cover",2,"height","200px",3,"src","alt"],[1,"placeholder-image","d-flex","justify-content-center","align-items-center",2,"height","200px","background-color","#f0f0f0","color","#888","font-size","24px","text-align","center"],[1,"floating-heart"],[1,"position-absolute","top-0","end-0","p-3"],[1,"btn","btn-light","btn-sm","rounded-circle","shadow-sm"],[1,"bi","bi-bookmark"],[1,"card-body","d-flex","flex-column"],[1,"d-flex","align-items-center","mb-3"],[1,"avatar"],["src","assets/image/sanjuprofile.png","alt","Profile Avatar"],[1,"ms-2"],[1,"mb-0","fw-semibold"],[1,"text-muted","small"],[1,"card-title","fw-bold","mb-3"],[1,"card-text","text-muted","flex-grow-1","truncate-text"],[1,"mt-3"],[1,"d-flex","flex-wrap","gap-2","mb-3"],[1,"badge","bg-primary","bg-opacity-10","text-primary","px-3","py-2","rounded-pill"],[1,"badge","bg-secondary","px-3","py-2","rounded-pill"],[1,"d-flex","justify-content-between","align-items-center"],[1,"d-flex","align-items-center","gap-3"],[1,"btn","btn-link","p-0","like-button",3,"click","ngClass"],[1,"bi",3,"ngClass"],[1,"btn","btn-link","text-muted","p-0"],[1,"bi","bi-chat","me-1"],[1,"btn","btn-primary","rounded-pill","px-4",3,"click"]],template:function(e,l){e&1&&(n(0,"div",0)(1,"header",1)(2,"h1",2),a(3,"Latest Blog Posts"),o(),n(4,"p",3),a(5,"Discover insightful articles and stay updated with our latest content"),o()(),n(6,"div",4),b(7,G,42,21,"div",5,R),o()()),e&2&&(r(7),C(l.posts))},dependencies:[T,$,O],styles:[".transition-hover[_ngcontent-%COMP%]{transition:transform .2s ease-in-out}.transition-hover[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:linear-gradient(135deg,#0984e3,#00b894);display:flex;align-items:center;justify-content:center;overflow:hidden;border:3px solid green;position:relative}.avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;object-position:center}.like-button[_ngcontent-%COMP%]{position:relative;color:#888;transition:all .2s ease}.like-button.liked[_ngcontent-%COMP%]{color:#ed4956}.like-button.liked[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_heartBeat .5s ease-in-out}@keyframes _ngcontent-%COMP%_heartBeat{0%{transform:scale(1)}15%{transform:scale(1.3)}30%{transform:scale(.95)}45%{transform:scale(1.2)}60%{transform:scale(.95)}to{transform:scale(1)}}.image-container[_ngcontent-%COMP%]{position:relative;cursor:pointer;overflow:hidden}.floating-heart[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:80px;opacity:0;color:#fff;text-shadow:0 0 10px rgba(0,0,0,.3);pointer-events:none;animation:_ngcontent-%COMP%_instagramHeart 1s ease-in-out forwards;z-index:10}@keyframes _ngcontent-%COMP%_instagramHeart{0%{opacity:0;transform:translate(-50%,-50%) scale(.5)}15%{opacity:.9;transform:translate(-50%,-50%) scale(1.2)}30%{opacity:1;transform:translate(-50%,-50%) scale(.9)}45%{opacity:1;transform:translate(-50%,-50%) scale(1.1)}80%{opacity:.9;transform:translate(-50%,-50%) scale(1)}to{opacity:0;transform:translate(-50%,-50%) scale(1.5)}}.post-card[_ngcontent-%COMP%]{transition:all .3s ease}.post-card.liked-post[_ngcontent-%COMP%]{box-shadow:0 .5rem 1rem #ed49561a!important}.truncate-text[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:5;-webkit-box-orient:vertical;overflow:hidden}"]})};export{A as BlogListComponent};
