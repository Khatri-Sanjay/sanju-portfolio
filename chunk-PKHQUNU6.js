import{b as a}from"./chunk-F5PBYKCM.js";import{Cc as o,Fa as i,aa as h}from"./chunk-V2OWRJG2.js";import{i as r}from"./chunk-66YHNWRR.js";var l=class n{chatVisible=i(!1);minimized=i(!1);maximized=i(!1);messages=i(this.getStoredMessages());typing=i(!1);chatVisible$=o(()=>this.chatVisible());minimized$=o(()=>this.minimized());maximized$=o(()=>this.maximized());messages$=o(()=>this.messages());typing$=o(()=>this.typing());constructor(){this.messages().length===0&&this.sendBotInitialMessage()}toggleChat(){this.chatVisible.set(!this.chatVisible()),this.chatVisible()||(this.minimized.set(!1),this.maximized.set(!1))}toggleMinimize(){this.minimized.set(!this.minimized())}toggleMaximized(){this.maximized.set(!this.maximized())}sendMessage(e,t="text"){return r(this,null,function*(){if(!e.trim())return;let s={text:e,isBot:!1,timestamp:new Date,messageType:t,sender:"user"};this.messages.update(m=>[...m,s]),this.saveMessages(),yield this.simulateBotResponse(e)})}simulateBotResponse(e){return r(this,null,function*(){this.typing.set(!0),this.messages.update(s=>[...s,{text:"",isBot:!0,timestamp:new Date,isTyping:!0,sender:"bot"}]),yield new Promise(s=>setTimeout(s,1500)),this.messages.update(s=>s.slice(0,-1));let t=this.getBotResponse(e);this.messages.update(s=>[...s,{text:t,isBot:!0,timestamp:new Date,sender:"bot",messageType:"text"}]),this.typing.set(!1),this.saveMessages()})}getBotResponse(e){if(["hello","helloo","hellooo","hy","hyy","hyyy","hi","hii","hiii"].includes(e.toLowerCase()))return"\u{1F44B} Hi! How can I help you today?";if(e.toLowerCase()==="help")return`Here are some commands you can use: 
- help: Show this help message
- info: Get app info
- clear: Clear chat history
- joke: Receive a joke
- quote: Receive a random quote`;if(e.toLowerCase()==="info")return"This is a Portfolio Chat App v1.0 belongs to Sanju ";if(e.toLowerCase()==="about")return"This is a Portfolio Chat App v1.0 belongs to Sanju ";if(e.toLowerCase()==="clear")return this.clearChat(),"Chat history cleared!";if(e.toLowerCase()==="joke")return this.showRandomJoke();if(e.toLowerCase()==="quote")return this.getRandomQuote();if(e.toLowerCase().startsWith("quote"))return this.getQuoteByCategory(e.split(" ")[1]);let t=["I'm here to assist you!","Let me look that up for you.","How can I help further?","Great question! Let me help with that."];return t[Math.floor(Math.random()*t.length)]}showRandomJoke(){let e=["Why don't skeletons fight each other? They don't have the guts.","I told my wife she was drawing her eyebrows too high. She looked surprised.","Why don't oysters donate to charity? Because they are shellfish.","I used to play piano by ear, but now I use my hands.","Why don\u2019t programmers like nature? It has too many bugs."],t=Math.floor(Math.random()*e.length);return e[t]}getRandomQuote(){let e=["The only limit to our realization of tomorrow is our doubts of today. - Franklin D. Roosevelt","The purpose of our lives is to be happy. - Dalai Lama","In the end, it's not the years in your life that count. It's the life in your years. - Abraham Lincoln"];return e[Math.floor(Math.random()*e.length)]}getQuoteByCategory(e){let t={inspiration:"The only way to do great work is to love what you do. - Steve Jobs",life:"Life is what happens when you're busy making other plans. - John Lennon",success:"Success is not final, failure is not fatal: It is the courage to continue that counts. - Winston Churchill",love:"Love is not what you say, love is what you do. - Unknown"},s=e?e.toLowerCase():"";return t[s]||"Category not found! Please try: inspiration, life, success, or love."}sendBotInitialMessage(){this.messages.update(e=>[...e,{text:"\u{1F44B} Hi! How can I help you today?",isBot:!0,timestamp:new Date,sender:"bot",messageType:"text"}]),this.saveMessages()}saveMessages(){let e=a.getStorage();e.chatMessages=JSON.stringify(this.messages()),a.setStorage(e)}getStoredMessages(){let e=a.getStorage().chatMessages;return e?JSON.parse(e):[]}clearChat(){this.messages.set([]),a.removeKey("chatMessages")}deleteMessage(e){this.messages.update(t=>{let s=[...t];return s[e].isDeleted=!0,s}),this.saveMessages()}static \u0275fac=function(t){return new(t||n)};static \u0275prov=h({token:n,factory:n.\u0275fac,providedIn:"root"})};export{l as a};
