import{a as ze}from"./chunk-RXUEOA5C.js";import{a as le,b as Zt,d as Qt,f as Jt,g as Xt}from"./chunk-MKNGB2LF.js";import{A as Vt,B as zt,D as Ut,E as Lt,F as lt,G as $t,H as ge,J as jt,K as Ht,L as Wt,M as qt,N as Gt,O as Yt,a as se}from"./chunk-CWYSOJOC.js";import{a as Se,b as j,c as It,d as E,e as oe,f as At}from"./chunk-NTCMCU6S.js";import{a as Pe,b as Z,c as z,d as H,e as Oe,f as re,g as Te,h as Bt,i as ke,j as Ee,k as De,l as Fe,m as Ie,n as Rt,o as Nt,p as Ae,q as Q,r as Be}from"./chunk-KWC7ULRQ.js";import{c as Re,d as Ne,f as ae,g as st,h as Ve}from"./chunk-JAKLN4DN.js";import"./chunk-TAGXQ7SO.js";import{b as q}from"./chunk-W5CFYHFU.js";import"./chunk-INXHUJVL.js";import{h as Ot,i as Tt,j as ne,l as kt,m as Et,n as Dt,p as Ft,r as ie}from"./chunk-4DR4DSTS.js";import{$ as B,$b as C,Ab as T,B as ut,Ba as nt,Bb as k,Ca as vt,Cb as ot,D as xe,Db as h,E as K,Eb as $,Fb as P,G as ft,Ga as ee,Gb as O,Hb as r,Ib as a,Jb as g,L as bt,Mb as ye,Nb as v,Rb as u,Sb as l,V as _t,Xa as X,_a as yt,_b as d,ac as x,bb as s,bc as St,c as pt,cb as y,cc as Pt,dc as R,ea as L,ec as N,f as gt,fa as w,fc as V,g as _e,hb as wt,hc as we,ic as Me,jb as I,jc as rt,kc as at,ma as ht,mb as S,na as b,o as he,oa as _,ob as Mt,pa as Ct,q as A,qa as xt,sb as f,u as Ce,xb as it,ya as Y,yb as p,za as ve,zb as te}from"./chunk-777UGNZZ.js";import{a as G,b as pe,h as U}from"./chunk-QWWW7GFA.js";var J=class i{isExpandedSubject=new _e(!0);isExpanded$=this.isExpandedSubject.asObservable();toggleSidebar(){this.isExpandedSubject.next(!this.isExpandedSubject.value)}getIsExpanded(){return this.isExpandedSubject.value}static \u0275fac=function(e){return new(e||i)};static \u0275prov=B({token:i,factory:i.\u0275fac,providedIn:"root"})};var an=(i,t)=>t.title,en=(i,t)=>t.id,sn=()=>({exact:!0});function ln(i,t){i&1&&(r(0,"span",4),d(1,"DashBoard"),a())}function cn(i,t){if(i&1&&(r(0,"div",9),d(1),a()),i&2){let e=l().$implicit;s(),C(e.title)}}function dn(i,t){if(i&1&&(r(0,"span",16),d(1),a()),i&2){let e=l(2).$implicit;k("bg-"+e.badge.variant),s(),x(" ",e.badge.text," ")}}function mn(i,t){if(i&1&&g(0,"i",17),i&2){let e=l(2).$implicit,n=l(2);T("bi-chevron-down",n.expandedMenus.includes(e.id))("bi-chevron-right",!n.expandedMenus.includes(e.id))}}function pn(i,t){if(i&1&&(r(0,"span",13),d(1),a(),f(2,dn,2,3,"span",14)(3,mn,1,4,"i",15)),i&2){let e=l().$implicit,n=l(2);s(),C(e.label),s(),h(n.hasBadge(e)?2:-1),s(),h(n.hasChildren(e)?3:-1)}}function gn(i,t){if(i&1&&(r(0,"li")(1,"a",18),g(2,"i"),r(3,"span",13),d(4),a()()()),i&2){let e=t.$implicit;s(),p("routerLink",e.path),s(),ot("bi ",e.icon,""),s(2),C(e.label)}}function un(i,t){if(i&1&&(r(0,"ul",12),P(1,gn,5,5,"li",null,en),a()),i&2){let e=l().$implicit;p("@submenuAnimation",void 0),s(),O(e.children)}}function fn(i,t){if(i&1){let e=v();r(0,"li")(1,"a",11),u("click",function(){let o=b(e).$implicit,c=l(2);return _(c.handleMenuClick(o))}),g(2,"i"),f(3,pn,4,3),a(),f(4,un,3,1,"ul",12),a()}if(i&2){let e=t.$implicit,n=l(2);s(),T("has-submenu",n.hasChildren(e)),p("routerLink",n.hasChildren(e)?null:e.path)("routerLinkActiveOptions",we(9,sn)),s(),ot("bi ",e.icon,""),s(),h(n.isExpanded()?3:-1),s(),h(n.hasChildren(e)&&n.expandedMenus.includes(e.id)?4:-1)}}function bn(i,t){if(i&1&&(r(0,"div",8),f(1,cn,2,1,"div",9),r(2,"ul",10),P(3,fn,5,10,"li",null,en),a()()),i&2){let e=t.$implicit,n=l();s(),h(n.isExpanded()?1:-1),s(2),O(e.items)}}var Ue=class i{constructor(t,e){this.router=e;this.isBrowser=ie(t),this.resizeHandler=this.handleResize.bind(this),this.router.events.pipe(xe(n=>n instanceof Se)).subscribe(()=>{this.handleResize()}),this.handleResize()}sidebarService=w(J);isBrowser;isExpanded=I(!0);isMobileExpanded=I(!1);userName="Sanjay Khatri";userRole="Super Admin";userAvatar="../../assets/image/sanjuprofile.png";expandedMenus=[];resizeHandler;menuSections=I([{title:"Main Menu",items:[{id:"dashboard",label:"Dashboard",icon:"bi-grid-fill",path:"dashboard",badge:{text:"New",variant:"primary"}},{id:"users",label:"Users",icon:"bi bi-person-lines-fill",path:"",children:[{id:"users-list",label:"User List",icon:"bi bi-person-lines-fill",path:"users"},{id:"add-user",label:"Add User",icon:"bi bi-person-plus",path:"add-user"}]},{id:"blogs",label:"Blogs",icon:"bi bi-newspaper",path:"",children:[{id:"blog-list",label:"Blog List",icon:"bi bi-file-earmark-text",path:"blogs"},{id:"add-blog",label:"Add Blog",icon:"bi bi-pencil-square",path:"add-blog"}]}]},{title:"Apps",items:[{id:"calendar",label:"Calendar",icon:"bi-calendar-event",path:"/calendar"},{id:"messages",label:"Messages",icon:"bi-chat-dots",path:"/messages",badge:{text:"3",variant:"success"}}]}]);onResize(t){window.innerWidth>768?this.isExpanded.set(!0):this.isExpanded&&this.isExpanded.set(!1)}ngOnInit(){this.sidebarService.isExpanded$.subscribe(t=>this.isExpanded.set(t)),this.isBrowser&&(window.addEventListener("resize",this.resizeHandler),this.handleResize())}toggleSidebar(){this.sidebarService.toggleSidebar()}handleSubmenuClick(t){if("children"in t){let e=this.expandedMenus.indexOf(t.id);e===-1?this.expandedMenus.push(t.id):this.expandedMenus.splice(e,1)}}handleMenuClick(t){console.log("item::",t),this.hasChildren(t)?this.handleSubmenuClick(t):this.handleSubmenuClick(t)}hasChildren(t){return"children"in t&&Array.isArray(t.children)}hasBadge(t){return"badge"in t&&t.badge!==void 0}handleImageError(){this.userAvatar="/assets/img/default-avatar.png"}handleResize(){this.isBrowser&&window.innerWidth<=768&&this.isExpanded.set(!1)}ngOnDestroy(){this.isBrowser&&window.removeEventListener("resize",this.resizeHandler)}static \u0275fac=function(e){return new(e||i)(y(ee),y(E))};static \u0275cmp=S({type:i,selectors:[["app-sidebar"]],hostBindings:function(e,n){e&1&&u("resize",function(c){return n.onResize(c)},!1,yt)},decls:10,vars:9,consts:[[1,"sidebar"],[1,"sidebar-header"],[1,"logo-container"],[1,"bi","bi-boxes","text-primary","fs-4"],[1,"logo-text","ms-2"],[1,"collapse-btn","d-none","d-md-block",3,"click"],[1,"bi"],[1,"nav-menu"],[1,"menu-section"],[1,"section-title"],[1,"nav-links"],["routerLinkActive","active",1,"nav-link",3,"click","routerLink","routerLinkActiveOptions"],[1,"submenu"],[1,"link-text"],[1,"badge",3,"class"],[1,"bi","submenu-arrow",3,"bi-chevron-down","bi-chevron-right"],[1,"badge"],[1,"bi","submenu-arrow"],["routerLinkActive","active",1,"nav-link",3,"routerLink"]],template:function(e,n){e&1&&(r(0,"aside",0)(1,"div",1)(2,"div",2),g(3,"i",3),f(4,ln,2,0,"span",4),a(),r(5,"button",5),u("click",function(){return n.toggleSidebar()}),g(6,"i",6),a()(),r(7,"nav",7),P(8,bn,5,1,"div",8,an),a()()),e&2&&(T("expanded",n.isExpanded())("mobile-expanded",n.isMobileExpanded()),s(4),h(n.isExpanded()?4:-1),s(2),T("bi-chevron-left",n.isExpanded())("bi-chevron-right",!n.isExpanded()),s(2),O(n.menuSections()))},dependencies:[Ft,oe,At],styles:[".sidebar[_ngcontent-%COMP%]{position:fixed;top:70px;left:0;height:calc(100vh - 70px);background:#fff;border-right:1px solid #e5e7eb;width:70px;transition:width .3s ease;display:flex;flex-direction:column;overflow-x:hidden;z-index:1000}.sidebar.expanded[_ngcontent-%COMP%]{width:260px}.sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]{padding:1rem;display:flex;align-items:center;justify-content:space-between;height:64px;border-bottom:1px solid #e5e7eb}.sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]{display:flex;align-items:center;font-weight:600;font-size:1rem}.sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]   .collapse-btn[_ngcontent-%COMP%]{border:none;background:none;padding:.5rem;cursor:pointer;border-radius:.375rem;color:#6b7280}.sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]   .collapse-btn[_ngcontent-%COMP%]:hover{background-color:#f3f4f6}.sidebar[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]{padding:1rem;display:flex;align-items:center;gap:1rem;border-bottom:1px solid #e5e7eb}.sidebar[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]   .profile-image[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%;overflow:hidden;flex-shrink:0}.sidebar[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]   .profile-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.sidebar[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]{overflow:hidden}.sidebar[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]{font-weight:600;font-size:.875rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.sidebar[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]   .profile-role[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280}.sidebar[_ngcontent-%COMP%]   .nav-menu[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:1rem 0}.sidebar[_ngcontent-%COMP%]   .nav-menu[_ngcontent-%COMP%]   .menu-section[_ngcontent-%COMP%]{margin-bottom:1rem}.sidebar[_ngcontent-%COMP%]   .nav-menu[_ngcontent-%COMP%]   .menu-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{padding:.5rem 1rem;font-size:.675rem;text-transform:uppercase;color:#6b7280;font-weight:600}.sidebar[_ngcontent-%COMP%]   .nav-menu[_ngcontent-%COMP%]   .menu-section[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.sidebar[_ngcontent-%COMP%]   .nav-menu[_ngcontent-%COMP%]   .menu-section[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.75rem 1rem;color:#1f2937;text-decoration:none;transition:all .2s ease;position:relative;font-size:.875rem}.sidebar[_ngcontent-%COMP%]   .nav-menu[_ngcontent-%COMP%]   .menu-section[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{background-color:#f3f4f6}.sidebar[_ngcontent-%COMP%]   .nav-menu[_ngcontent-%COMP%]   .menu-section[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{background-color:#e5e7eb;color:#2563eb}.sidebar[_ngcontent-%COMP%]   .nav-menu[_ngcontent-%COMP%]   .menu-section[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem;width:1.5rem;text-align:center;margin-right:1rem}.sidebar[_ngcontent-%COMP%]   .nav-menu[_ngcontent-%COMP%]   .menu-section[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   .link-text[_ngcontent-%COMP%]{flex:1;white-space:nowrap}.sidebar[_ngcontent-%COMP%]   .nav-menu[_ngcontent-%COMP%]   .menu-section[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{padding:.25rem .5rem;font-size:.675rem;border-radius:9999px}.sidebar[_ngcontent-%COMP%]   .nav-menu[_ngcontent-%COMP%]   .menu-section[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   .submenu-arrow[_ngcontent-%COMP%]{margin-left:.5rem;font-size:.75rem}.sidebar[_ngcontent-%COMP%]   .nav-menu[_ngcontent-%COMP%]   .menu-section[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]   .submenu[_ngcontent-%COMP%]{list-style:none;padding-left:.5rem;background-color:#f9fafb}.sidebar[_ngcontent-%COMP%]   .nav-menu[_ngcontent-%COMP%]   .menu-section[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]   .submenu[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:.5rem 1rem;font-size:.8125rem}.sidebar[_ngcontent-%COMP%]   .sidebar-footer[_ngcontent-%COMP%]{padding:1rem;border-top:1px solid #e5e7eb}.sidebar[_ngcontent-%COMP%]   .sidebar-footer[_ngcontent-%COMP%]   .upgrade-pro[_ngcontent-%COMP%]{background:linear-gradient(to right,#3b82f6,#2563eb);color:#fff;padding:.75rem;border-radius:.375rem;margin-bottom:1rem;cursor:pointer;display:flex;align-items:center;transition:transform .2s ease;font-size:.875rem}.sidebar[_ngcontent-%COMP%]   .sidebar-footer[_ngcontent-%COMP%]   .upgrade-pro[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.sidebar[_ngcontent-%COMP%]   .sidebar-footer[_ngcontent-%COMP%]   .settings-btn[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #e5e7eb;border-radius:.375rem;background:none;display:flex;align-items:center;cursor:pointer;transition:all .2s ease;font-size:.875rem}.sidebar[_ngcontent-%COMP%]   .sidebar-footer[_ngcontent-%COMP%]   .settings-btn[_ngcontent-%COMP%]:hover{background-color:#f3f4f6}@media (max-width: 768px){.sidebar[_ngcontent-%COMP%]{transform:translate(-100%)}.sidebar.expanded[_ngcontent-%COMP%]{transform:translate(0);width:260px}.sidebar[_ngcontent-%COMP%]   .collapse-btn[_ngcontent-%COMP%]{display:none}}@media (prefers-reduced-motion: reduce){.sidebar[_ngcontent-%COMP%], .nav-link[_ngcontent-%COMP%], .settings-btn[_ngcontent-%COMP%], .upgrade-pro[_ngcontent-%COMP%]{transition:none}}"],data:{animation:[Re("submenuAnimation",[st("void",ae({height:"0",opacity:"0"})),st("*",ae({height:"*",opacity:"1"})),Ve("void <=> *",[Ne("200ms cubic-bezier(0.4, 0.0, 0.2, 1)")])])]}})};var tn=(i,t)=>t.id;function _n(i,t){if(i&1&&(r(0,"a",31),g(1,"i"),d(2),a()),i&2){let e=t.$implicit;p("routerLink",e.link),s(),k(e.icon),s(),x(" ",e.title," ")}}function hn(i,t){if(i&1&&(r(0,"div",14)(1,"div",29)(2,"div",30),d(3,"Quick Links"),a(),P(4,_n,3,4,"a",31,tn),a()()),i&2){let e=l();s(4),O(e.searchResults())}}function Cn(i,t){if(i&1&&(r(0,"span",18),d(1),a()),i&2){let e=l();s(),x(" ",e.unreadNotifications()," ")}}function xn(i,t){if(i&1){let e=v();r(0,"button",39),u("click",function(){b(e);let o=l(2);return _(o.markAllAsRead())}),d(1," Mark all as read "),a()}}function vn(i,t){if(i&1&&(r(0,"div",40)(1,"div",41)(2,"div"),g(3,"i"),a(),r(4,"div",42)(5,"div",43),d(6),a(),r(7,"div",44),d(8),a(),r(9,"div",45),d(10),a()()()()),i&2){let e=t.$implicit;T("unread",!e.read),s(2),k("notification-icon "+e.type),s(),k(e.icon),s(3),C(e.title),s(2),C(e.message),s(2),C(e.time)}}function yn(i,t){if(i&1&&(r(0,"div",19)(1,"div",32)(2,"h6",33),d(3,"Notifications"),a(),f(4,xn,2,0,"button",34),a(),r(5,"div",35),P(6,vn,11,9,"div",36,tn),a(),r(8,"div",37)(9,"a",38),d(10,"View All Notifications"),a()()()),i&2){let e=l();s(4),h(e.unreadNotifications()>0?4:-1),s(2),O(e.notifications())}}function wn(i,t){if(i&1){let e=v();r(0,"div",28)(1,"div",46)(2,"div",2)(3,"img",47),u("error",function(){b(e);let o=l();return _(o.handleImageError())}),a(),r(4,"div",42)(5,"div",43),d(6),a(),r(7,"div",44),d(8),a()()()(),r(9,"div",48)(10,"a",49),u("click",function(){b(e);let o=l();return _(o.viewProfile())}),g(11,"i",50),d(12," View Profile "),a(),r(13,"a",49),u("click",function(){b(e);let o=l();return _(o.openSettings())}),g(14,"i",51),d(15," Settings "),a(),r(16,"a",49),u("click",function(){b(e);let o=l();return _(o.openHelp())}),g(17,"i",52),d(18," Help Center "),a(),g(19,"div",53),r(20,"a",54),u("click",function(){b(e);let o=l();return _(o.logout())}),g(21,"i",55),d(22," Logout "),a()()()}if(i&2){let e=l();s(3),p("src",e.userAvatar(),X),s(3),C(e.userFullName),s(2),C(e.userEmail)}}var $e=class i{constructor(t,e){this.sidebarService=t;this.isBrowser=ie(e),this.sidebarService.isExpanded$.subscribe(n=>this.isExpanded=n),this.initializeNotifications()}router=w(E);isDarkMode=I(!1);isOnline=I(!0);unreadNotifications=I(3);searchResults=I([]);notifications=I([]);userAvatar=I("../../assets/image/sanjuprofile.png");isExpanded=!0;userFullName=q.getStorage()?.userData?.name;userEmail=q.getStorage()?.userData?.email;roleTitle=q.getStorage()?.userData?.role;showDropdown=!1;showNotifications=!1;isSearchFocused=!1;searchQuery="";isBrowser;ngOnInit(){this.initializeTheme()}initializeNotifications(){this.notifications.set([{id:1,type:"info",icon:"bi bi-info-circle",title:"New Update Available",message:"A new software update is available for download.",time:"2 hours ago",read:!1},{id:2,type:"success",icon:"bi bi-check-circle",title:"Project Completed",message:"Your project has been successfully completed.",time:"5 hours ago",read:!1},{id:3,type:"warning",icon:"bi bi-exclamation-circle",title:"Storage Warning",message:"Your storage is almost full. Please free up some space.",time:"1 day ago",read:!1}])}toggleSidebar(){this.sidebarService.toggleSidebar()}toggleTheme(){this.isDarkMode.update(t=>!t),this.isBrowser&&document.body.classList.toggle("dark-mode")}initializeTheme(){if(this.isBrowser){let t=window.matchMedia("(prefers-color-scheme: dark)").matches;this.isDarkMode.set(t),t&&document.body.classList.add("dark-mode")}}handleSearchBlur(){setTimeout(()=>{this.isSearchFocused=!1},200)}toggleNotifications(){this.showNotifications=!this.showNotifications}markAllAsRead(){this.notifications.update(t=>t.map(e=>pe(G({},e),{read:!0}))),this.unreadNotifications.set(0)}handleImageError(){this.userAvatar.set("/assets/img/default-avatar.png")}viewProfile(){this.router.navigate(["/profile"]),this.showDropdown=!1}openSettings(){this.router.navigate(["/settings"]),this.showDropdown=!1}openHelp(){this.router.navigate(["/help"]),this.showDropdown=!1}logout(){q.clearStorage(),this.router.navigate(["/login"]),this.showDropdown=!1}static \u0275fac=function(e){return new(e||i)(y(J),y(ee))};static \u0275cmp=S({type:i,selectors:[["app-header"]],decls:36,vars:12,consts:[[1,"navbar","navbar-expand-lg","bg-white","shadow-sm","fixed-top"],[1,"container-fluid","px-4"],[1,"d-flex","align-items-center"],[1,"btn","btn-link","text-dark","p-0","me-3","d-lg-none",3,"click"],[1,"bi","bi-list","fs-4"],[1,"navbar-brand","d-flex","align-items-center","me-4"],[1,"logo-icon","me-2"],[1,"bi","bi-stars","text-primary","fs-4"],[1,"logo-text","fw-bold","fs-4"],[1,"text-primary"],[1,"d-none","d-md-block"],[1,"position-relative"],["type","text","placeholder","Search...",1,"form-control","search-input",3,"ngModelChange","focus","blur","ngModel"],[1,"bi","bi-search","position-absolute","search-icon"],[1,"search-results","shadow"],[1,"d-flex","align-items-center","gap-3"],[1,"btn","btn-link","text-dark","p-0","position-relative",3,"click"],[1,"bi","bi-bell","fs-5"],[1,"position-absolute","top-0","start-100","translate-middle","badge","rounded-pill","bg-danger"],[1,"notifications-dropdown","shadow"],[1,"btn","btn-link","text-dark","p-0",3,"click"],[1,"profile-container","position-relative",3,"mouseover","mouseleave"],[1,"d-flex","align-items-center","cursor-pointer"],["alt","Profile",1,"profile-img","rounded-circle",3,"error","src"],[1,"position-absolute","bottom-0","end-0","status-dot"],[1,"profile-info","d-none","d-md-block","ms-2"],[1,"profile-name"],[1,"profile-role","small","text-muted"],[1,"profile-dropdown","shadow"],[1,"p-2"],[1,"fw-bold","mb-2"],[1,"search-result-item",3,"routerLink"],[1,"notifications-header","d-flex","justify-content-between","align-items-center","p-3","border-bottom"],[1,"mb-0"],[1,"btn","btn-link","btn-sm","p-0"],[1,"notifications-body"],[1,"notification-item","p-3","border-bottom",3,"unread"],[1,"notifications-footer","p-2","text-center","border-top"],["href","#",1,"text-decoration-none"],[1,"btn","btn-link","btn-sm","p-0",3,"click"],[1,"notification-item","p-3","border-bottom"],[1,"d-flex"],[1,"ms-3"],[1,"fw-semibold"],[1,"text-muted","small"],[1,"text-muted","smallest"],[1,"p-3","border-bottom"],["alt","Profile",1,"profile-img-large","rounded-circle",3,"error","src"],[1,"dropdown-items"],[1,"dropdown-item",3,"click"],[1,"bi","bi-person","me-2"],[1,"bi","bi-gear","me-2"],[1,"bi","bi-question-circle","me-2"],[1,"dropdown-divider"],[1,"dropdown-item","text-danger",3,"click"],[1,"bi","bi-box-arrow-right","me-2"]],template:function(e,n){e&1&&(r(0,"header",0)(1,"div",1)(2,"div",2)(3,"button",3),u("click",function(){return n.toggleSidebar()}),g(4,"i",4),a(),r(5,"div",5)(6,"div",6),g(7,"i",7),a(),r(8,"div",8),d(9," My"),r(10,"span",9),d(11,"Space"),a()()(),r(12,"div",10)(13,"div",11)(14,"input",12),V("ngModelChange",function(c){return N(n.searchQuery,c)||(n.searchQuery=c),c}),u("focus",function(){return n.isSearchFocused=!0})("blur",function(){return n.handleSearchBlur()}),a(),g(15,"i",13),f(16,hn,6,0,"div",14),a()()(),r(17,"div",15)(18,"div",11)(19,"button",16),u("click",function(){return n.toggleNotifications()}),g(20,"i",17),f(21,Cn,2,1,"span",18),a(),f(22,yn,11,1,"div",19),a(),r(23,"button",20),u("click",function(){return n.toggleTheme()}),g(24,"i"),a(),r(25,"div",21),u("mouseover",function(){return n.showDropdown=!0})("mouseleave",function(){return n.showDropdown=!1}),r(26,"div",22)(27,"div",11)(28,"img",23),u("error",function(){return n.handleImageError()}),a(),g(29,"span",24),a(),r(30,"div",25)(31,"div",26),d(32),a(),r(33,"div",27),d(34),a()()(),f(35,wn,23,3,"div",28),a()()()()),e&2&&(s(14),R("ngModel",n.searchQuery),s(2),h(n.isSearchFocused&&n.searchQuery?16:-1),s(5),h(n.unreadNotifications()>0?21:-1),s(),h(n.showNotifications?22:-1),s(2),k(n.isDarkMode()?"bi bi-sun fs-5":"bi bi-moon fs-5"),s(4),p("src",n.userAvatar(),X),s(),T("online",n.isOnline()),s(3),C(n.userFullName),s(2),C(n.roleTitle),s(),h(n.showDropdown?35:-1))},dependencies:[Q,Z,H,re,oe],styles:["[_nghost-%COMP%]{display:block;height:70px}.navbar[_ngcontent-%COMP%]{height:70px}.search-input[_ngcontent-%COMP%]{width:300px;padding-left:35px;border-radius:20px;background-color:#f8f9fa;border:1px solid #dee2e6}.search-icon[_ngcontent-%COMP%]{top:50%;left:12px;transform:translateY(-50%);color:#6c757d}.search-results[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;right:0;background:#fff;border-radius:8px;margin-top:5px;z-index:1000}.search-result-item[_ngcontent-%COMP%]{display:block;padding:8px 12px;color:inherit;text-decoration:none}.search-result-item[_ngcontent-%COMP%]:hover{background-color:#f8f9fa}.profile-img[_ngcontent-%COMP%]{width:40px;height:40px;object-fit:cover}.profile-img-large[_ngcontent-%COMP%]{width:60px;height:60px;object-fit:cover}.status-dot[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%;background-color:#dc3545;border:2px solid white}.status-dot.online[_ngcontent-%COMP%]{background-color:#198754}.profile-dropdown[_ngcontent-%COMP%]{position:absolute;top:100%;right:0;width:280px;background:#fff;border-radius:8px;margin-top:10px;z-index:1000}.dropdown-items[_ngcontent-%COMP%]{padding:8px 0}.dropdown-item[_ngcontent-%COMP%]{padding:8px 16px;cursor:pointer;display:flex;align-items:center}.dropdown-item[_ngcontent-%COMP%]:hover{background-color:#f8f9fa}.notifications-dropdown[_ngcontent-%COMP%]{position:absolute;top:100%;right:0;width:320px;background:#fff;border-radius:8px;margin-top:10px;z-index:1000}.notifications-body[_ngcontent-%COMP%]{max-height:360px;overflow-y:auto}.notification-item.unread[_ngcontent-%COMP%]{background-color:#f8f9fa}.notification-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:8px;display:flex;align-items:center;justify-content:center}.notification-icon.info[_ngcontent-%COMP%]{background-color:#cfe2ff;color:#0d6efd}.notification-icon.success[_ngcontent-%COMP%]{background-color:#d1e7dd;color:#198754}.notification-icon.warning[_ngcontent-%COMP%]{background-color:#fff3cd;color:#ffc107}.notification-icon.danger[_ngcontent-%COMP%]{background-color:#f8d7da;color:#dc3545}.smallest[_ngcontent-%COMP%]{font-size:.75rem}@media (max-width: 768px){.search-input[_ngcontent-%COMP%]{width:200px}}@media (max-width: 576px){.navbar-brand[_ngcontent-%COMP%]{font-size:1.2rem}}"]})};var He=class i{constructor(t,e){this.router=t;this.activatedRoute=e;this.router.events.pipe(xe(n=>n instanceof Se),ft(50),bt()).subscribe(()=>{let n=this.buildBreadcrumbs(this.activatedRoute.root);this.breadcrumbs.next(n)})}breadcrumbs=new _e([]);breadcrumbs$=this.breadcrumbs.asObservable();moduleIcons={portfolio:"bi bi-collection",auth:"bi bi-shield-lock",admin:"bi bi-gear",tools:"bi bi-tools",base:"bi bi-grid",dashboard:"bi bi-speedometer2",blogs:"bi bi-pencil-square",users:"bi bi-people","add-user":"bi bi-pencil-square","edit-user":"bi bi-pencil-square","add-blog":"bi bi-pencil-square","edit-blog":"bi bi-pencil-square"};buildBreadcrumbs(t,e="",n=[]){let o=t.children;if(o.length===0)return n;for(let c of o){let m=c.snapshot.url.map(M=>M.path).join("/");if(m!==""){e+=`/${m}`;let M=this.getModuleName(e),F=c.snapshot.data;if(F.breadcrumb){let me={label:F.breadcrumb,url:e,icon:F.icon||this.moduleIcons[m]||this.moduleIcons[M],module:M};n.push(me)}}return this.buildBreadcrumbs(c,e,n)}return n}getModuleName(t){return t.split("/").filter(n=>n)[0]||""}updateBreadcrumb(t,e){let n=this.breadcrumbs.value;n[t]&&(n[t]=G(G({},n[t]),e),this.breadcrumbs.next([...n]))}static \u0275fac=function(e){return new(e||i)(L(E),L(j))};static \u0275prov=B({token:i,factory:i.\u0275fac,providedIn:"root"})};var Sn=(i,t)=>t.url,Pn=i=>[i];function On(i,t){if(i&1&&g(0,"i",10),i&2){let e=l().$implicit;k(e.icon+" breadcrumb-icon"),p("title",e.label)}}function Tn(i,t){if(i&1&&(r(0,"li",3)(1,"div",4),Ct(),r(2,"svg",5),g(3,"path",6),a()(),xt(),r(4,"a",7),f(5,On,1,3,"i",8),r(6,"span",9),d(7),a()()()),i&2){let e=t.$implicit,n=l();p("@fadeSlide",void 0),s(4),T("active",n.isLast(e)),p("routerLink",Me(7,Pn,e.url))("queryParams",e.params),s(),h(e.icon?5:-1),s(2),C(e.label)}}var We=class i{constructor(t){this.breadcrumbService=t}breadcrumbs=[];ngOnInit(){this.breadcrumbService.breadcrumbs$.subscribe(t=>this.breadcrumbs=t)}isLast(t){return this.breadcrumbs.indexOf(t)===this.breadcrumbs.length-1}static \u0275fac=function(e){return new(e||i)(y(He))};static \u0275cmp=S({type:i,selectors:[["app-breadcrumbs"]],decls:5,vars:0,consts:[[1,"breadcrumb-wrapper"],["aria-label","Breadcrumb navigation",1,"breadcrumb-container"],[1,"breadcrumb-list"],[1,"breadcrumb-item"],[1,"separator"],["viewBox","0 0 24 24",1,"chevron-icon"],["d","M9 18l6-6-6-6"],[1,"breadcrumb-link",3,"routerLink","queryParams"],[3,"class","title"],[1,"breadcrumb-text"],[3,"title"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"nav",1)(2,"ol",2),P(3,Tn,8,9,"li",3,Sn),a()()()),e&2&&(s(3),O(n.breadcrumbs))},dependencies:[oe],styles:[".breadcrumb-wrapper[_ngcontent-%COMP%]{width:100%;margin-left:0}.breadcrumb-container[_ngcontent-%COMP%]{margin:0}.breadcrumb-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;margin:0;padding:0;list-style:none;gap:.5rem}.breadcrumb-item[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:.875rem;color:#6c757d;white-space:nowrap}.home-item[_ngcontent-%COMP%]{margin-right:.5rem}.home-link[_ngcontent-%COMP%]{display:flex;align-items:center;color:#0d6efd;text-decoration:none;padding:.25rem .5rem;border-radius:.25rem;transition:all .2s ease}.home-link[_ngcontent-%COMP%]:hover{background-color:#0d6efd1a;color:#0a58ca}.home-icon[_ngcontent-%COMP%]{font-size:1rem;margin-right:.375rem}.separator[_ngcontent-%COMP%]{display:flex;align-items:center;margin:0 .25rem}.chevron-icon[_ngcontent-%COMP%]{width:16px;height:16px;fill:none;stroke:currentColor;stroke-width:2;stroke-linecap:round;stroke-linejoin:round;color:#adb5bd}.breadcrumb-link[_ngcontent-%COMP%]{display:flex;align-items:center;color:#6c757d;text-decoration:none;padding:.25rem .5rem;border-radius:.25rem;transition:all .2s ease;max-width:200px;overflow:hidden;text-overflow:ellipsis}.breadcrumb-link[_ngcontent-%COMP%]:hover{background-color:#6c757d1a;color:#495057}.breadcrumb-link.active[_ngcontent-%COMP%]{color:#212529;font-weight:500;pointer-events:none}.breadcrumb-icon[_ngcontent-%COMP%]{font-size:1rem;margin-right:.375rem;flex-shrink:0}.breadcrumb-text[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis}@media (max-width: 768px){.breadcrumb-wrapper[_ngcontent-%COMP%]{padding:.5rem}.breadcrumb-container[_ngcontent-%COMP%]{padding:0 .5rem}.breadcrumb-text[_ngcontent-%COMP%]{max-width:120px}.home-text[_ngcontent-%COMP%]{display:none}.home-icon[_ngcontent-%COMP%]{margin-right:0}.breadcrumb-link[_ngcontent-%COMP%]{padding:.25rem}}@media (max-width: 480px){.breadcrumb-text[_ngcontent-%COMP%]{max-width:80px}.breadcrumb-icon[_ngcontent-%COMP%]{font-size:.875rem}.chevron-icon[_ngcontent-%COMP%]{width:14px;height:14px}}"],data:{animation:[Re("fadeSlide",[Ve(":enter",[ae({opacity:0,transform:"translateX(-10px)"}),Ne("200ms ease-out",ae({opacity:1,transform:"translateX(0)"}))])])]}})};var qe=class i{constructor(t){this.sidebarService=t;this.sidebarService.isExpanded$.subscribe(e=>this.isExpanded=e)}isExpanded=!0;userFullName="Sanjay Khatri";roleTitle="Super Admin";showDropdown=!1;storage=q.getStorage();router=w(E);toggleSidebar(){this.sidebarService.toggleSidebar()}viewProfile(){}logout(){this.router.navigate(["/login"])}currentYear=new Date().getFullYear();ngZone=w(ve);platformId=w(ee);destroy$=new gt;displayedText=I("");isTyping=I(!1);text="Designed & Powered by Sanjay Khatri";typingSpeed=100;ngOnInit(){ie(this.platformId)&&this.startTyping()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}startTyping(){this.ngZone.runOutsideAngular(()=>{let t=0;this.isTyping.set(!0);let e=ut(this.typingSpeed).pipe(_t(this.destroy$)).subscribe(()=>{t<this.text.length?(this.ngZone.run(()=>{this.displayedText.update(n=>n+this.text.charAt(t))}),t++):(e.unsubscribe(),this.ngZone.run(()=>{this.isTyping.set(!1)}),setTimeout(()=>{this.ngZone.run(()=>{this.displayedText.set(""),this.startTyping()})},5e3))})})}static \u0275fac=function(e){return new(e||i)(y(J))};static \u0275cmp=S({type:i,selectors:[["app-base"]],decls:19,vars:4,consts:[[1,"app-container"],[1,"app-header"],[1,"main-container"],[1,"content-wrapper"],[1,"main-content"],[1,"footer"],[1,"footer-content"],[1,"copyright"],[1,"footer-links"],["href","#help"],["href","#privacy"],["href","#terms"]],template:function(e,n){e&1&&(r(0,"div",0),g(1,"app-header",1),r(2,"div",2),g(3,"app-sidebar"),r(4,"div",3)(5,"main",4),g(6,"app-breadcrumbs")(7,"router-outlet"),a(),r(8,"footer",5)(9,"div",6)(10,"span",7),d(11),a(),r(12,"div",8)(13,"a",9),d(14,"Help"),a(),r(15,"a",10),d(16,"Privacy"),a(),r(17,"a",11),d(18,"Terms"),a()()()()()()()),e&2&&(s(4),T("expanded",n.isExpanded),s(7),St("\xA9 ",n.currentYear," ",n.displayedText(),""))},dependencies:[It,Ue,$e,We],styles:[".app-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100vh}.app-header[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;height:70px;z-index:1000}.main-container[_ngcontent-%COMP%]{display:flex;margin-top:70px;min-height:calc(100vh - 70px)}.content-wrapper[_ngcontent-%COMP%]{flex:1;margin-left:70px;transition:margin-left .3s ease;width:calc(100% - 70px);display:flex;flex-direction:column;position:relative}.content-wrapper.expanded[_ngcontent-%COMP%]{margin-left:260px;width:calc(100% - 260px)}.main-content[_ngcontent-%COMP%]{flex:1;padding:20px;margin-bottom:120px}.footer[_ngcontent-%COMP%]{background-color:#fff;padding:1rem;width:100%;height:60px;margin-top:auto;position:relative;z-index:2}.footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;display:flex;justify-content:space-between;align-items:center;padding:0 1rem}.footer[_ngcontent-%COMP%]   .copyright[_ngcontent-%COMP%]{color:#6c757d;font-size:.9rem}.footer[_ngcontent-%COMP%]   .footer-links[_ngcontent-%COMP%]{display:flex;gap:1.5rem}.footer[_ngcontent-%COMP%]   .footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#6c757d;text-decoration:none;font-size:.9rem;transition:color .2s ease}.footer[_ngcontent-%COMP%]   .footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#343a40}.footer-wave[_ngcontent-%COMP%]{bottom:0;left:0;transform:rotate(180deg);z-index:1}@media (max-width: 768px){.content-wrapper[_ngcontent-%COMP%], .content-wrapper.expanded[_ngcontent-%COMP%]{margin-left:0;width:100%}.main-content[_ngcontent-%COMP%]{margin-bottom:150px}.footer[_ngcontent-%COMP%]{height:auto;padding:1rem 0}.footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem;text-align:center}}@media (prefers-reduced-motion: reduce){.content-wrapper[_ngcontent-%COMP%], .footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{transition:none}}"]})};function kn(i,t){if(i&1&&(r(0,"div",2)(1,"div",10),g(2,"i"),a(),r(3,"div",11)(4,"h3"),d(5),a(),r(6,"p"),d(7),a(),r(8,"span"),d(9),a()()()),i&2){let e=t.$implicit;s(),te("background-color",e.bgColor),s(),k(e.icon),s(3),C(e.value),s(2),C(e.label),s(),k(e.trend>0?"trend-up":"trend-down"),s(),x(" ",e.trend,"% from last month ")}}function En(i,t){if(i&1&&(r(0,"div",6)(1,"div",12),g(2,"i"),a(),r(3,"div",13)(4,"h4"),d(5),a(),r(6,"p"),d(7),a(),r(8,"span",14),d(9),a()()()),i&2){let e=t.$implicit;s(),te("background-color",e.color),s(),k(e.icon),s(3),C(e.title),s(2),C(e.description),s(2),C(e.time)}}function Dn(i,t){if(i&1){let e=v();r(0,"div",9)(1,"div",15)(2,"input",16),V("ngModelChange",function(o){let c=b(e).$implicit;return N(c.completed,o)||(c.completed=o),_(o)}),a(),r(3,"label",17),d(4),a()(),r(5,"div",18)(6,"span"),d(7),a(),r(8,"span",19),d(9),a()()()}if(i&2){let e=t.$implicit;s(2),p("id",e.id),R("ngModel",e.completed),s(),p("for",e.id),s(),C(e.title),s(2),k("priority-"+e.priority),s(),C(e.priority),s(2),C(e.dueDate)}}var Ge=class i{quickStats=[{label:"Total Revenue",value:"$124,563",icon:"fas fa-dollar-sign",bgColor:"#4CAF50",trend:12.5},{label:"Active Users",value:"2,845",icon:"fas fa-users",bgColor:"#2196F3",trend:8.2},{label:"New Orders",value:"156",icon:"fas fa-shopping-cart",bgColor:"#FF9800",trend:-3.8},{label:"Conversion Rate",value:"3.24%",icon:"fas fa-chart-line",bgColor:"#9C27B0",trend:2.4}];recentActivities=[{title:"New Order #1234",description:"Customer placed an order for $523",time:"2 hours ago",icon:"fas fa-shopping-bag",color:"#4CAF50"},{title:"User Registration",description:"New user signed up via Google",time:"4 hours ago",icon:"fas fa-user-plus",color:"#2196F3"},{title:"System Update",description:"Server maintenance completed",time:"6 hours ago",icon:"fas fa-server",color:"#FF9800"}];pendingTasks=[{id:"task1",title:"Review quarterly reports",priority:"high",dueDate:"Today",completed:!1},{id:"task2",title:"Team meeting preparation",priority:"medium",dueDate:"Tomorrow",completed:!1},{id:"task3",title:"Update documentation",priority:"low",dueDate:"Next week",completed:!1}];revenueData;activityData;chartOptions;ngOnInit(){this.initChartData()}initChartData(){this.revenueData={labels:["Jan","Feb","Mar","Apr","May","Jun"],datasets:[{label:"Revenue",data:[65,59,80,81,56,55],fill:!1,borderColor:"#4CAF50"}]},this.activityData={labels:["Mon","Tue","Wed","Thu","Fri"],datasets:[{label:"Active Users",data:[28,48,40,19,86],backgroundColor:"#2196F3"}]},this.chartOptions={responsive:!0,maintainAspectRatio:!1}}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=S({type:i,selectors:[["app-dashboard"]],decls:17,vars:0,consts:[[1,"dashboard-container"],[1,"stats-grid"],[1,"stat-card"],[1,"activity-grid"],[1,"activity-card"],[1,"activity-list"],[1,"activity-item"],[1,"tasks-card"],[1,"task-list"],[1,"task-item"],[1,"stat-icon"],[1,"stat-info"],[1,"activity-icon"],[1,"activity-details"],[1,"activity-time"],[1,"task-checkbox"],["type","checkbox",3,"ngModelChange","id","ngModel"],[3,"for"],[1,"task-meta"],[1,"due-date"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1),P(2,kn,10,9,"div",2,$),a(),r(4,"div",3)(5,"div",4)(6,"h2"),d(7,"Recent Activities"),a(),r(8,"div",5),P(9,En,10,7,"div",6,$),a()(),r(11,"div",7)(12,"h2"),d(13,"Pending Tasks"),a(),r(14,"div",8),P(15,Dn,10,8,"div",9,$),a()()()()),e&2&&(s(2),O(n.quickStats),s(7),O(n.recentActivities),s(6),O(n.pendingTasks))},dependencies:[Q,Pe,H,re],styles:[".dashboard-container[_ngcontent-%COMP%]{padding:1.5rem;background-color:#f5f7fa}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem;margin-bottom:1.5rem}.stat-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.5rem;display:flex;align-items:center;box-shadow:0 2px 4px #0000000d;transition:transform .2s ease}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.stat-icon[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;display:flex;align-items:center;justify-content:center;margin-right:1rem}.stat-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem}.stat-info[_ngcontent-%COMP%]{flex:1}.stat-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;margin:0;font-weight:600}.stat-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin:.25rem 0}.stat-info[_ngcontent-%COMP%]   .trend-up[_ngcontent-%COMP%]{color:#4caf50;font-size:.875rem}.stat-info[_ngcontent-%COMP%]   .trend-down[_ngcontent-%COMP%]{color:#f44336;font-size:.875rem}.charts-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(400px,1fr));gap:1.5rem;margin-bottom:1.5rem}@media (max-width: 768px){.charts-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.chart-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.5rem;box-shadow:0 2px 4px #0000000d;height:400px}.chart-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 1rem;font-size:1.25rem;color:#333}.activity-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:1.5rem}.activity-card[_ngcontent-%COMP%], .tasks-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.5rem;box-shadow:0 2px 4px #0000000d}.activity-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .tasks-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 1rem;font-size:1.25rem;color:#333}.activity-list[_ngcontent-%COMP%]   .activity-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;padding:1rem 0;border-bottom:1px solid #eee}.activity-list[_ngcontent-%COMP%]   .activity-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.activity-list[_ngcontent-%COMP%]   .activity-icon[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:8px;display:flex;align-items:center;justify-content:center;margin-right:1rem}.activity-list[_ngcontent-%COMP%]   .activity-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff;font-size:1rem}.activity-list[_ngcontent-%COMP%]   .activity-details[_ngcontent-%COMP%]{flex:1}.activity-list[_ngcontent-%COMP%]   .activity-details[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:1rem;color:#333}.activity-list[_ngcontent-%COMP%]   .activity-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.25rem 0;color:#666;font-size:.875rem}.activity-list[_ngcontent-%COMP%]   .activity-details[_ngcontent-%COMP%]   .activity-time[_ngcontent-%COMP%]{font-size:.75rem;color:#999}.task-list[_ngcontent-%COMP%]   .task-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.75rem 0;border-bottom:1px solid #eee}.task-list[_ngcontent-%COMP%]   .task-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.task-list[_ngcontent-%COMP%]   .task-checkbox[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.task-list[_ngcontent-%COMP%]   .task-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:18px;height:18px;cursor:pointer}.task-list[_ngcontent-%COMP%]   .task-checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer}.task-list[_ngcontent-%COMP%]   .task-meta[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:center}.task-list[_ngcontent-%COMP%]   .priority-high[_ngcontent-%COMP%]{color:#f44336;font-size:.75rem;font-weight:600}.task-list[_ngcontent-%COMP%]   .priority-medium[_ngcontent-%COMP%]{color:#ff9800;font-size:.75rem;font-weight:600}.task-list[_ngcontent-%COMP%]   .priority-low[_ngcontent-%COMP%]{color:#4caf50;font-size:.75rem;font-weight:600}.task-list[_ngcontent-%COMP%]   .due-date[_ngcontent-%COMP%]{font-size:.75rem;color:#666}@media (max-width: 1200px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 768px){.dashboard-container[_ngcontent-%COMP%]{padding:1rem}.stats-grid[_ngcontent-%COMP%], .activity-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-width: 480px){.stat-card[_ngcontent-%COMP%]{padding:1rem}.chart-card[_ngcontent-%COMP%]{padding:1rem;height:300px}}"]})};var Ye=class i{constructor(t,e,n){this.el=t;this.renderer=e;this.ngZone=n}tooltipText="";tooltipConfig={position:"top",delay:200,showArrow:!0,maxWidth:"200px",theme:"dark"};tooltipElement;showTimeout;hideTimeout;resizeObserver;mutationObserver;ngOnInit(){this.setupListeners(),this.addTooltipStyles(),this.setupObservers()}ngOnDestroy(){this.clearTimeouts(),this.removeObservers()}setupListeners(){this.ngZone.runOutsideAngular(()=>{this.renderer.listen(this.el.nativeElement,"mouseenter",()=>this.showTooltip()),this.renderer.listen(this.el.nativeElement,"mouseleave",()=>this.hideTooltip()),this.renderer.listen(this.el.nativeElement,"focus",()=>this.showTooltip()),this.renderer.listen(this.el.nativeElement,"blur",()=>this.hideTooltip())})}setupObservers(){this.resizeObserver=new ResizeObserver(()=>{this.tooltipElement&&this.updateTooltipPosition()}),this.resizeObserver.observe(this.el.nativeElement),this.mutationObserver=new MutationObserver(()=>{this.tooltipElement&&this.updateTooltipPosition()}),this.mutationObserver.observe(document.body,{childList:!0,subtree:!0})}removeObservers(){this.resizeObserver&&this.resizeObserver.disconnect(),this.mutationObserver&&this.mutationObserver.disconnect()}showTooltip(){this.clearTimeouts(),this.showTimeout=window.setTimeout(()=>{this.tooltipElement||(this.createTooltip(),this.updateTooltipPosition(),this.animateTooltip("show"))},this.tooltipConfig.delay)}hideTooltip(){this.clearTimeouts(),this.hideTimeout=window.setTimeout(()=>{this.tooltipElement&&this.animateTooltip("hide")},100)}clearTimeouts(){this.showTimeout&&clearTimeout(this.showTimeout),this.hideTimeout&&clearTimeout(this.hideTimeout)}createTooltip(){this.tooltipElement=this.renderer.createElement("div"),this.renderer.addClass(this.tooltipElement,"custom-tooltip"),this.renderer.addClass(this.tooltipElement,`theme-${this.tooltipConfig.theme}`);let t=this.renderer.createElement("div");if(this.renderer.addClass(t,"tooltip-content"),t.textContent=this.tooltipText,this.renderer.appendChild(this.tooltipElement,t),this.tooltipConfig.showArrow){let e=this.renderer.createElement("div");this.renderer.addClass(e,"tooltip-arrow"),this.renderer.appendChild(this.tooltipElement,e)}this.renderer.appendChild(document.body,this.tooltipElement)}updateTooltipPosition(){if(!this.tooltipElement)return;let t=this.el.nativeElement.getBoundingClientRect(),e=this.tooltipElement.getBoundingClientRect(),n=window.scrollY,o=window.scrollX,c=0,m=0;switch(this.tooltipConfig.position){case"bottom":c=t.bottom+n+10,m=t.left+o+(t.width-e.width)/2,this.renderer.setAttribute(this.tooltipElement,"data-position","bottom");break;case"left":c=t.top+n+(t.height-e.height)/2,m=t.left+o-e.width-10,this.renderer.setAttribute(this.tooltipElement,"data-position","left");break;case"right":c=t.top+n+(t.height-e.height)/2,m=t.right+o+10,this.renderer.setAttribute(this.tooltipElement,"data-position","right");break;default:c=t.top+n-e.height-10,m=t.left+o+(t.width-e.width)/2,this.renderer.setAttribute(this.tooltipElement,"data-position","top")}let M=window.innerWidth,F=window.innerHeight;m<10&&(m=10),m+e.width>M-10&&(m=M-e.width-10),c<10&&(c=10),c+e.height>F-10&&(c=F-e.height-10),this.renderer.setStyle(this.tooltipElement,"top",`${c}px`),this.renderer.setStyle(this.tooltipElement,"left",`${m}px`)}animateTooltip(t){if(t==="show")this.renderer.setStyle(this.tooltipElement,"opacity","1"),this.renderer.setStyle(this.tooltipElement,"transform","scale(1)");else{let e=()=>{this.tooltipElement&&(this.renderer.removeChild(document.body,this.tooltipElement),this.tooltipElement=null)};this.renderer.setStyle(this.tooltipElement,"opacity","0"),this.renderer.setStyle(this.tooltipElement,"transform","scale(0.9)"),this.tooltipElement.addEventListener("transitionend",e,{once:!0})}}addTooltipStyles(){let t=`
      .custom-tooltip {
        position: fixed;
        z-index: 10000;
        pointer-events: none;
        opacity: 0;
        transform: scale(0.9);
        transition: opacity 0.15s ease-in-out, transform 0.15s ease-in-out;
        max-width: var(--tooltip-max-width, 200px);
      }

      .tooltip-content {
        padding: 8px 12px;
        border-radius: 4px;
        font-size: 14px;
        line-height: 1.4;
        text-align: center;
        white-space: normal;
        word-wrap: break-word;
      }

      .tooltip-arrow {
        position: absolute;
        width: 8px;
        height: 8px;
        transform: rotate(45deg);
      }

      /* Theme: Dark */
      .custom-tooltip.theme-dark .tooltip-content {
        background-color: rgba(33, 33, 33, 0.95);
        color: #ffffff;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
      }

      .custom-tooltip.theme-dark .tooltip-arrow {
        background-color: rgba(33, 33, 33, 0.95);
      }

      /* Theme: Light */
      .custom-tooltip.theme-light .tooltip-content {
        background-color: rgba(255, 255, 255, 0.95);
        color: #333333;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        border: 1px solid rgba(0, 0, 0, 0.1);
      }

      .custom-tooltip.theme-light .tooltip-arrow {
        background-color: rgba(255, 255, 255, 0.95);
        border: 1px solid rgba(0, 0, 0, 0.1);
      }

      /* Position-specific styles */
      .custom-tooltip[data-position="top"] .tooltip-arrow {
        bottom: -4px;
        left: 50%;
        transform: translateX(-50%) rotate(45deg);
      }

      .custom-tooltip[data-position="bottom"] .tooltip-arrow {
        top: -4px;
        left: 50%;
        transform: translateX(-50%) rotate(45deg);
      }

      .custom-tooltip[data-position="left"] .tooltip-arrow {
        right: -4px;
        top: 50%;
        transform: translateY(-50%) rotate(45deg);
      }

      .custom-tooltip[data-position="right"] .tooltip-arrow {
        left: -4px;
        top: 50%;
        transform: translateY(-50%) rotate(45deg);
      }
    `,e=this.renderer.createElement("style");e.textContent=t,this.renderer.appendChild(document.head,e)}static \u0275fac=function(e){return new(e||i)(y(vt),y(wt),y(ve))};static \u0275dir=Mt({type:i,selectors:[["","appTooltip",""]],inputs:{tooltipText:[0,"appTooltip","tooltipText"],tooltipConfig:"tooltipConfig"}})};function Fn(i,t){if(i&1&&(r(0,"span"),d(1),a()),i&2){let e=l();s(),C(e.text())}}function In(i,t){if(i&1){let e=v();r(0,"span"),d(1),r(2,"span",0),u("click",function(){b(e);let o=l();return _(o.showMore=!0)}),d(3," show more "),a()()}if(i&2){let e=l();s(),x(" ",e.text().substring(0,e.wordLimit())," ... ")}}function An(i,t){if(i&1){let e=v();r(0,"span"),d(1),g(2,"br"),r(3,"span",0),u("click",function(){b(e);let o=l();return _(o.showMore=!1)}),d(4," show less "),a()()}if(i&2){let e=l();s(),x(" ",e.text()," ")}}var Ze=class i{text=nt.required();wordLimit=nt.required();showMore;constructor(){}ngOnInit(){}showMoreLess(){this.showMore=!0}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=S({type:i,selectors:[["app-show-more-less"]],inputs:{text:[1,"text"],wordLimit:[1,"wordLimit"]},decls:3,vars:3,consts:[[2,"color","darkgray","cursor","pointer",3,"click"]],template:function(e,n){e&1&&f(0,Fn,2,1,"span")(1,In,4,1,"span")(2,An,5,1,"span"),e&2&&(h(n.text()&&n.text().length<=n.wordLimit()?0:-1),s(),h(n.text()&&n.text().length>n.wordLimit()&&!n.showMore?1:-1),s(),h(n.text()&&n.text().length>n.wordLimit()&&n.showMore?2:-1))},encapsulation:2})};var Bn=(i,t)=>t.key,Rn=(i,t)=>t.value,Nn=(i,t)=>t.label,Vn=i=>({$implicit:i}),zn=()=>({position:"top",delay:200,showArrow:!0,theme:"dark",maxWidth:"400px"});function Un(i,t){if(i&1){let e=v();r(0,"input",37),V("ngModelChange",function(o){b(e);let c=l().$implicit,m=l(2);return N(m.filters[c.key],o)||(m.filters[c.key]=o),_(o)}),u("ngModelChange",function(){b(e);let o=l(3);return _(o.onFilterChange())}),a()}if(i&2){let e=l().$implicit,n=l(2);p("placeholder","Search "+e.label),R("ngModel",n.filters[e.key])}}function Ln(i,t){if(i&1&&(r(0,"option",40),d(1),a()),i&2){let e=t.$implicit;p("value",e.value),s(),C(e.label)}}function $n(i,t){if(i&1){let e=v();r(0,"select",38),V("ngModelChange",function(o){b(e);let c=l().$implicit,m=l(2);return N(m.filters[c.key],o)||(m.filters[c.key]=o),_(o)}),u("ngModelChange",function(){b(e);let o=l(3);return _(o.onFilterChange())}),r(1,"option",39),d(2),a(),P(3,Ln,2,2,"option",40,Rn),a()}if(i&2){let e=l().$implicit,n=l(2);R("ngModel",n.filters[e.key]),s(2),x("All ",e.label,""),s(),O(e.filterOptions)}}function jn(i,t){if(i&1){let e=v();r(0,"div",36)(1,"input",41),V("ngModelChange",function(o){b(e);let c=l().$implicit,m=l(2);return N(m.filters[c.key+"_start"],o)||(m.filters[c.key+"_start"]=o),_(o)}),u("ngModelChange",function(){b(e);let o=l(3);return _(o.onFilterChange())}),a(),r(2,"input",41),V("ngModelChange",function(o){b(e);let c=l().$implicit,m=l(2);return N(m.filters[c.key+"_end"],o)||(m.filters[c.key+"_end"]=o),_(o)}),u("ngModelChange",function(){b(e);let o=l(3);return _(o.onFilterChange())}),a()()}if(i&2){let e=l().$implicit,n=l(2);s(),R("ngModel",n.filters[e.key+"_start"]),s(),R("ngModel",n.filters[e.key+"_end"])}}function Hn(i,t){if(i&1){let e=v();r(0,"div",36)(1,"input",41),V("ngModelChange",function(o){b(e);let c=l().$implicit,m=l(2);return N(m.filters[c.key],o)||(m.filters[c.key]=o),_(o)}),u("ngModelChange",function(){b(e);let o=l(3);return _(o.onFilterChange())}),a()()}if(i&2){let e=l().$implicit,n=l(2);s(),R("ngModel",n.filters[e.key])}}function Wn(i,t){if(i&1&&(r(0,"div",28),d(1),rt(2,"titlecase"),f(3,Un,1,2,"input",34)(4,$n,5,2,"select",35)(5,jn,3,2,"div",36)(6,Hn,2,1,"div",36),a()),i&2){let e,n=t.$implicit;s(),x(" ",at(2,2,n.label)," "),s(2),h((e=n.filterType)==="text"?3:e==="select"?4:e==="dateRange"?5:e==="date"?6:-1)}}function qn(i,t){if(i&1){let e=v();r(0,"div",1),P(1,Wn,7,4,"div",28,$),r(3,"div",29)(4,"button",30),u("click",function(){b(e);let o=l();return _(o.onFilterChange())}),g(5,"i",31),d(6," Search "),a(),r(7,"button",32),u("click",function(){b(e);let o=l();return _(o.onClearFilter())}),g(8,"i",33),d(9," Clear "),a()()()}if(i&2){let e=l();s(),O(e.getFilterableColumns())}}function Gn(i,t){if(i&1&&g(0,"i"),i&2){let e=l().$implicit;k(e.icon)}}function Yn(i,t){if(i&1){let e=v();r(0,"button",43),u("click",function(){let o=b(e).$implicit,c=l(2);return _(c.onBulkAction(o))}),f(1,Gn,1,2,"i",42),d(2),a()}if(i&2){let e=t.$implicit;k(e.class),s(),h(e.icon?1:-1),s(),x(" ",e.label," ")}}function Zn(i,t){if(i&1&&(r(0,"div",5),P(1,Yn,3,4,"button",42,Nn),a()),i&2){let e=l();s(),O(e.bulkActions)}}function Qn(i,t){if(i&1){let e=v();r(0,"li")(1,"a",47),u("click",function(){let o=b(e).$implicit,c=l(2);return _(c.exportTableData(o))}),d(2),a()()}if(i&2){let e=t.$implicit;s(2),x(" Export as ",e.toUpperCase()," ")}}function Jn(i,t){if(i&1&&(r(0,"div",6)(1,"div",44)(2,"button",45),d(3," Export "),a(),r(4,"ul",46),P(5,Qn,3,1,"li",null,$),a()()()),i&2){let e=l();s(5),O(e.config.exportFormats)}}function Xn(i,t){if(i&1){let e=v();r(0,"div",6)(1,"div",44)(2,"button",48),u("click",function(){b(e);let o=l();return _(o.onAddAction())}),g(3,"i",49),d(4," Add "),a()()()}}function Kn(i,t){if(i&1){let e=v();r(0,"th",9)(1,"input",50),u("change",function(){b(e);let o=l();return _(o.toggleSelectAll())}),a()()}if(i&2){let e=l();s(),p("checked",e.isAllSelected())}}function ei(i,t){i&1&&g(0,"i",55)}function ti(i,t){i&1&&g(0,"i",56)}function ni(i,t){i&1&&g(0,"i",57)}function ii(i,t){if(i&1&&f(0,ei,1,0,"i",52)(1,ti,1,0,"i",53)(2,ni,1,0,"i",54),i&2){let e=l().$implicit,n=l();p("ngIf",n.sortColumn===e.key&&n.sortDirection==="asc"),s(),p("ngIf",n.sortColumn===e.key&&n.sortDirection==="desc"),s(),p("ngIf",n.sortColumn!==e.key)}}function oi(i,t){if(i&1){let e=v();r(0,"th",51),u("click",function(){let o=b(e).$implicit,c=l();return _(o.sortable&&c.sort(o.key))}),r(1,"div",4),d(2),f(3,ii,3,3),a()()}if(i&2){let e=t.$implicit,n=l();te("width",e.width),T("sortable",e.sortable)("sorting",n.sortColumn===e.key)("sorting-asc",n.sortColumn===e.key&&n.sortDirection==="asc")("sorting-desc",n.sortColumn===e.key&&n.sortDirection==="desc"),p("ngClass",e.headerClass),s(2),x(" ",e.label," "),s(),h(e.sortable?3:-1)}}function ri(i,t){i&1&&(r(0,"th"),d(1,"Actions"),a())}function ai(i,t){if(i&1&&ye(0,59),i&2){let e=l(2);p("ngTemplateOutlet",e.loadingTemplate)}}function si(i,t){i&1&&(r(0,"div",60),d(1,"No data available"),a())}function li(i,t){if(i&1&&(r(0,"tr")(1,"td",58),f(2,ai,1,1,"ng-container",59)(3,si,2,0,"div",60),a()()),i&2){let e=l();s(),it("colspan",e.getTotalColumns()),s(),h(e.loadingTemplate?2:3)}}function ci(i,t){if(i&1&&ye(0,59),i&2){let e=l(2);p("ngTemplateOutlet",e.noDataTemplate)}}function di(i,t){i&1&&(r(0,"div",60),d(1,"No data available"),a())}function mi(i,t){if(i&1&&(r(0,"tr")(1,"td",58),f(2,ci,1,1,"ng-container",59)(3,di,2,0,"div",60),a()()),i&2){let e=l();s(),it("colspan",e.getTotalColumns()),s(),h(e.noDataTemplate?2:3)}}function pi(i,t){if(i&1){let e=v();r(0,"td",9)(1,"input",50),u("change",function(o){b(e);let c=l().$implicit,m=l();return _(m.toggleSelection(c,o))}),a()()}if(i&2){let e=l().$implicit,n=l();s(),p("checked",n.isSelected(e))}}function gi(i,t){if(i&1&&d(0),i&2){let e=l(2).$index,n=l();x(" ",n.startIndex+e+1," ")}}function ui(i,t){if(i&1&&g(0,"app-show-more-less",66),i&2){let e=l(2).$implicit,n=l().$implicit;p("text",n[e.key])("wordLimit",10)}}function fi(i,t){if(i&1&&d(0),i&2){let e=l(2).$implicit,n=l().$implicit,o=l();x(" ",o.formatValue(n[e.key],e)," ")}}function bi(i,t){if(i&1&&f(0,ui,1,2,"app-show-more-less",66)(1,fi,1,1),i&2){let e=l().$implicit;h(e.isTextFixedLength?0:1)}}function _i(i,t){if(i&1&&d(0),i&2){let e=l().$implicit,n=l().$implicit,o=l();x(" ",o.formatNumber(n[e.key],e)," ")}}function hi(i,t){if(i&1&&(d(0),rt(1,"date")),i&2){let e=l().$implicit,n=l().$implicit,o=l();x(" ",at(1,1,o.convertToStandardDateTime(n[e.key]))," ")}}function Ci(i,t){if(i&1&&(r(0,"span",63),d(1),a()),i&2){let e=l().$implicit,n=l().$implicit,o=l();p("ngClass",o.getBadgeClass(n[e.key])),s(),x(" ",n[e.key]," ")}}function xi(i,t){if(i&1&&(r(0,"div",64)(1,"div",67),d(2),a()()),i&2){let e=l().$implicit,n=l().$implicit,o=l();s(),te("width",n[e.key],"%"),p("ngClass",o.getProgressClass(n[e.key])),s(),x(" ",n[e.key],"% ")}}function vi(i,t){if(i&1&&g(0,"img",65),i&2){let e=l().$implicit,n=l().$implicit;p("src",n[e.key],X)("alt",e.label)}}function yi(i,t){i&1&&ye(0)}function wi(i,t){if(i&1&&f(0,yi,1,0,"ng-container",68),i&2){let e=l().$implicit,n=l().$implicit;p("ngTemplateOutlet",e.customComponent)("ngTemplateOutletContext",Me(2,Vn,n))}}function Mi(i,t){if(i&1&&d(0),i&2){let e=l().$implicit,n=l().$implicit;x(" ",n[e.key]," ")}}function Si(i,t){if(i&1&&(r(0,"td",61),f(1,gi,1,1)(2,bi,2,1)(3,_i,1,1)(4,hi,2,3)(5,Ci,2,2,"span",63)(6,xi,3,4,"div",64)(7,vi,1,2,"img",65)(8,wi,1,4,"ng-container")(9,Mi,1,1),a()),i&2){let e,n=t.$implicit,o=l().$implicit,c=l();p("ngClass",c.getCellClass(n,o)),s(),h((e=n.type)==="sn"?1:e==="text"?2:e==="number"?3:e==="date"?4:e==="badge"?5:e==="progress"?6:e==="image"?7:e==="custom"?8:9)}}function Pi(i,t){if(i&1&&g(0,"i"),i&2){let e=l().$implicit;k(e.icon)}}function Oi(i,t){if(i&1&&d(0),i&2){let e=l().$implicit;x(" ",e.label," ")}}function Ti(i,t){if(i&1){let e=v();r(0,"button",71),u("click",function(o){let c=b(e).$implicit,m=l(2).$implicit,M=l();return _(M.handleAction(c,m,o))}),f(1,Pi,1,2,"i",42)(2,Oi,1,1),a()}if(i&2){let e=t.$implicit;k(e.class),p("appTooltip",e.label)("tooltipConfig",we(6,zn)),s(),h(e.icon?1:-1),s(),h(e.icon?-1:2)}}function ki(i,t){if(i&1&&(r(0,"td",62)(1,"div",69),P(2,Ti,3,7,"button",70,$),a()()),i&2){let e=l().$implicit,n=l();s(2),O(n.getVisibleButtons(e))}}function Ei(i,t){if(i&1){let e=v();r(0,"tr",51),u("click",function(){let o=b(e).$implicit,c=l();return _(c.onRowClick(o))}),f(1,pi,2,1,"td",9),P(2,Si,10,2,"td",61,$),f(4,ki,4,0,"td",62),a()}if(i&2){let e=t.$implicit,n=l();p("ngClass",n.getRowClass(e)),s(),h(n.config.enableRowSelection?1:-1),s(),O(n.visibleColumns),s(2),h(n.actionButtons.length?4:-1)}}function Di(i,t){if(i&1&&(r(0,"td",11),d(1),a()),i&2){let e=t.$implicit,n=l(2);p("ngClass",e.headerClass),s(),x(" ",n.getFooterValue(e)," ")}}function Fi(i,t){if(i&1&&(r(0,"tfoot")(1,"tr"),f(2,Di,2,2,"td",72),a()()),i&2){let e=l();s(2),p("ngForOf",e.visibleColumns)}}function Ii(i,t){if(i&1&&(r(0,"option",40),d(1),a()),i&2){let e=t.$implicit;p("value",e),s(),x(" ",e," per page ")}}function Ai(i,t){if(i&1&&(r(0,"span",60),d(1),a()),i&2){let e=l();s(),Pt(" Showing ",e.startIndex+1," to ",e.endIndex," of ",e.totalItems," entries ")}}function Bi(i,t){if(i&1){let e=v();r(0,"div",18)(1,"span",73),d(2,"Go to:"),a(),r(3,"input",74),V("ngModelChange",function(o){b(e);let c=l();return N(c.jumpToPage,o)||(c.jumpToPage=o),_(o)}),u("keyup.enter",function(){b(e);let o=l();return _(o.goToPage())}),a(),r(4,"button",75),u("click",function(){b(e);let o=l();return _(o.goToPage())}),d(5,"Go"),a()()}if(i&2){let e=l();s(3),R("ngModel",e.jumpToPage),p("min",1)("max",e.totalPages)}}function Ri(i,t){if(i&1){let e=v();r(0,"li",22)(1,"button",76),u("click",function(){b(e);let o=l();return _(o.changePage(1))}),g(2,"i",77),a()()}if(i&2){let e=l();T("disabled",e.currentPage===1),s(),p("disabled",e.currentPage===1)}}function Ni(i,t){if(i&1){let e=v();r(0,"li",22)(1,"button",78),u("click",function(){let o=b(e).$implicit,c=l();return _(c.changePage(o))}),d(2),a()()}if(i&2){let e=t.$implicit,n=l();T("active",e===n.currentPage),s(),p("disabled",e===n.currentPage),s(),x(" ",e," ")}}function Vi(i,t){if(i&1){let e=v();r(0,"li",22)(1,"button",79),u("click",function(){b(e);let o=l();return _(o.changePage(o.totalPages))}),g(2,"i",80),a()()}if(i&2){let e=l();T("disabled",e.currentPage===e.totalPages),s(),p("disabled",e.currentPage===e.totalPages)}}var nn={showHeader:!0,showFooter:!1,enableSearch:!0,enableSort:!0,enableFilter:!0,enableRowSelection:!1,enableColumnResize:!1,enableColumnReorder:!1,enableExport:!1,enableRowExpand:!1,rowHeight:48,headerHeight:48,footerHeight:48,pageSize:10,theme:"default",loadingTemplate:'<div class="spinner-border" role="status"><span class="visually-hidden">Loading...</span></div>',noDataTemplate:'<div class="text-center">No data available</div>',rowClass:"",selectionType:"multi",exportFormats:["excel","pdf","csv"],enablePagination:!0,pageSizeOptions:[5,10,25,50,100],showFirstLast:!0,showPageJump:!0,showPageInfo:!0},ce=class i{columns=[];data=[];config=nn;actionButtons=[];bulkActions=[];loadingTemplate;noDataTemplate;rowClick=new Y;rowSelect=new Y;actionClick=new Y;filterChange=new Y;sortChange=new Y;pageChange=new Y;exportData=new Y;loading=!1;displayedData=[];selectedRows=[];filters={};sortColumn="";sortDirection="asc";currentPage=1;pageSize=10;totalItems=0;totalPages=1;startIndex=0;endIndex=0;jumpToPage=1;visibleColumns=[];defaultLoadingTemplate=`<div class="spinner-border text-primary" role="status">
    <span class="visually-hidden">Loading...</span>
  </div>`;defaultNoDataTemplate='<div class="text-muted">No data available</div>';ngOnInit(){this.initializeTable()}ngOnChanges(t){t.data&&this.processData(),t.config&&this.processData()}initializeTable(){this.pageSize=this.config.pageSize||nn.pageSize||10,this.pageSize=this.pageSize,this.visibleColumns=this.getVisibleColumns(),this.processData()}getVisibleColumns(){return this.columns.filter(t=>!t.hidden)}getFilterableColumns(){return this.columns.filter(t=>t.filterable)}processData(){Array.isArray(this.data)||(console.error("Data is not an array:",this.data),this.data=[]);let t=[...this.data];console.log("Processed Data:",t),this.config.enableFilter&&(t=this.applyFilters(t)),this.config.enableSort&&this.sortColumn&&(t=this.applySorting(t)),this.totalItems=t.length,this.totalPages=Math.ceil(this.totalItems/(this.pageSize??10)),this.config.enablePagination&&(t=this.applyPagination(t)),this.displayedData=t,this.updatePaginationIndexes()}applyFilters(t){return t.filter(e=>Object.keys(this.filters).every(n=>{let o=this.filters[n];if(!o)return!0;let m=n.includes("_start")||n.includes("_end")?n.split("_")[0]:n,M=this.columns.find(me=>me.key===m);if(!M)return!0;let F=e[M.key];if(!F)return!1;switch(M.filterType){case"text":return String(F).toLowerCase().includes(String(o).toLowerCase());case"select":return F===o;case"date":let me=new Date(F).toISOString().split("T")[0],rn=new Date(o).toISOString().split("T")[0];return me===rn;case"dateRange":let et=this.filters[`${m}_start`],tt=this.filters[`${m}_end`];if(!et&&!tt)return!0;let ct=new Date(F).toISOString().split("T")[0],dt=et?new Date(et).toISOString().split("T")[0]:null,mt=tt?new Date(tt).toISOString().split("T")[0]:null;return(!dt||ct>=dt)&&(!mt||ct<=mt);case"number":return Number(F)===Number(o);case"boolean":return F===(o==="true");default:return!0}}))}applySorting(t){return[...t].sort((e,n)=>{let o=this.columns.find(M=>M.key===this.sortColumn);if(!o)return 0;let c=e[this.sortColumn],m=n[this.sortColumn];switch(o.type){case"date":c=new Date(c).getTime(),m=new Date(m).getTime();break;case"number":case"currency":case"progress":c=Number(c),m=Number(m);break;default:c=String(c).toLowerCase(),m=String(m).toLowerCase()}return c<m?this.sortDirection==="asc"?-1:1:c>m?this.sortDirection==="asc"?1:-1:0})}applyPagination(t){if(!t||t.length===0)return console.log("Data is empty or undefined"),[];let e=this.currentPage??1,n=this.pageSize??10,o=Math.max(1,e),c=Math.max(1,n),m=(o-1)*c,M=Math.min(m+c,t.length);return console.log({currentPage:o,pageSize:c,start:m,end:M,slicedData:t.slice(m,M)}),t.slice(m,M)}getTableClasses(){let t=["table"];return this.config.theme==="dark"&&t.push("table-dark"),this.config.theme==="custom"&&t.push("table-custom"),t.join(" ")}getRowClass(t){return typeof this.config.rowClass=="function"?this.config.rowClass(t):this.config.rowClass||""}getCellClass(t,e){return typeof t.cellClass=="function"?t.cellClass(e[t.key]):t.cellClass||""}getBadgeClass(t){return t.toLowerCase()==="pending"?"bg-warning":t.toLowerCase()==="inactive"?"bg-danger":(t.toLowerCase()==="active","bg-success")}getProgressClass(t){return t<25?"bg-danger":t<50?"bg-warning":t<75?"bg-info":"bg-success"}onFilterChange(){this.currentPage=1,this.processData(),this.filterChange.emit(this.filters)}onClearFilter(){this.filters={},this.processData()}sort(t){this.sortColumn===t?this.sortDirection=this.sortDirection==="asc"?"desc":"asc":(this.sortColumn=t,this.sortDirection="asc"),this.processData(),this.sortChange.emit({column:t,direction:this.sortDirection})}onPageSizeChange(){this.currentPage=1,this.jumpToPage=1,this.processData(),this.emitPageChange()}changePage(t){t<1||t>this.totalPages||t===this.currentPage||(this.currentPage=t,this.jumpToPage=t,this.processData(),this.emitPageChange())}onRowClick(t){this.rowClick.emit(t)}toggleSelection(t,e){e.stopPropagation();let n=this.selectedRows.indexOf(t);this.config.selectionType==="single"?this.selectedRows=n===-1?[t]:[]:n===-1?this.selectedRows.push(t):this.selectedRows.splice(n,1),this.rowSelect.emit(this.selectedRows)}isSelected(t){return this.selectedRows.includes(t)}isAllSelected(){return this.displayedData.length>0&&this.displayedData.every(t=>this.isSelected(t))}toggleSelectAll(){this.isAllSelected()?this.selectedRows=[]:this.selectedRows=[...this.displayedData],this.rowSelect.emit(this.selectedRows)}getVisibleButtons(t){return this.actionButtons.filter(e=>typeof e.visible=="function"?e.visible(t):e.visible!==!1)}handleAction(t,e,n){n.stopPropagation(),this.actionClick.emit({action:t.action,item:e})}onBulkAction(t){this.actionClick.emit({action:t.action,item:this.selectedRows})}onAddAction(){this.actionClick.emit({action:"Add",item:"Add User"})}formatValue(t,e){return e.formatter?e.formatter(t):String(t)}formatNumber(t,e){return e.type==="currency"?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t):new Intl.NumberFormat().format(t)}formatDate(t,e){return new Date(t).toLocaleDateString()}convertToStandardDateTime(t){try{if(t instanceof Vt)return t.toDate().toISOString();if(t instanceof Date&&!isNaN(t.getTime()))return t.toISOString();if(typeof t=="string"){let e=new Date(t);if(!isNaN(e.getTime()))return e.toISOString();let n=[/^\d{4}\/\d{1,2}\/\d{1,2}$/,/^\d{1,2}\/\d{1,2}\/\d{4}$/,/^\d{4}-\d{1,2}-\d{1,2}$/,/^\d{4}\.\d{1,2}\.\d{1,2}$/,/^\d{1,2}-\d{1,2}-\d{4}$/];for(let o of n)if(o.test(t)){let m=t.replace(/[-\/\.]/g,"-").split("-").map(M=>parseInt(M,10));return o===n[4]?new Date(m[2],m[1]-1,m[0]).toISOString():new Date(m[0],m[1]-1,m[2]||1).toISOString()}}return null}catch(e){return console.error("Error converting date:",e),null}}get visiblePages(){let e=Math.max(1,this.currentPage-Math.floor(2.5)),n=Math.min(this.totalPages,e+5-1);return this.totalPages-e<4&&(e=Math.max(1,this.totalPages-5+1)),Array.from({length:n-e+1},(o,c)=>e+c)}getPageNumbers(){let t=[],n=Math.max(1,this.currentPage-Math.floor(2.5)),o=Math.min(this.totalPages,n+5-1);o-n+1<5&&(n=Math.max(1,o-5+1));for(let c=n;c<=o;c++)t.push(c);return t}updatePaginationIndexes(){this.startIndex=((this.currentPage??1)-1)*(this.pageSize??10),this.endIndex=Math.min(this.startIndex+(this.pageSize??10),this.totalItems)}goToPage(){let t=Math.min(Math.max(1,this.jumpToPage),this.totalPages);t!==this.currentPage&&this.changePage(t)}emitPageChange(){this.pageChange.emit({page:this.currentPage??1,pageSize:this.pageSize??10})}exportTableData(t){this.exportData.emit({format:t,data:this.selectedRows.length?this.selectedRows:this.data})}getTotalColumns(){return this.getVisibleColumns().length+(this.config.enableRowSelection?1:0)+(this.actionButtons.length?1:0)}getFooterValue(t){if(!t.footer)return"";let e=this.data.map(n=>n[t.key]).filter(n=>n!=null);if(e.length===0)return"";if(t.footer.formatter)return t.footer.formatter(e);switch(t.footer.type){case"sum":let n=e.reduce((c,m)=>Number(c)+Number(m),0);return this.formatNumber(n,t);case"average":let o=e.reduce((c,m)=>Number(c)+Number(m),0)/e.length;return this.formatNumber(o,t);case"count":return e.length.toString();case"custom":return"";default:return""}}calculateFooterValue(t,e){let n=t.map(o=>Number(o)).filter(o=>!isNaN(o));switch(e){case"sum":return n.reduce((o,c)=>o+c,0);case"average":return n.length>0?n.reduce((o,c)=>o+c,0)/n.length:0;case"count":return t.length;default:return 0}}hasFooter(t){return t.footer!==void 0&&t.footer!==null}getFooterCellClass(t){return t.headerClass||""}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=S({type:i,selectors:[["app-dynamic-table"]],inputs:{columns:"columns",data:"data",config:"config",actionButtons:"actionButtons",bulkActions:"bulkActions",loadingTemplate:"loadingTemplate",noDataTemplate:"noDataTemplate"},outputs:{rowClick:"rowClick",rowSelect:"rowSelect",actionClick:"actionClick",filterChange:"filterChange",sortChange:"sortChange",pageChange:"pageChange",exportData:"exportData"},features:[ht],decls:39,vars:23,consts:[[1,"search-panel","mb-3"],[1,"row"],[1,"table-toolbar","mb-3"],[1,"d-flex","justify-content-between","align-items-center"],[1,"d-flex","align-items-center"],[1,"bulk-actions"],[1,"export-options"],[1,"table-responsive"],[1,"table","table-sm","table-hover",3,"ngClass"],[1,"selection-column"],[3,"ngClass","width","sortable","sorting","sorting-asc","sorting-desc"],[3,"ngClass"],[4,"ngIf"],[1,"d-flex","flex-wrap","justify-content-between","align-items-center","gap-3"],[1,"d-flex","flex-wrap","align-items-center","gap-2"],[1,"form-select",2,"width","auto",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["class","text-muted",4,"ngIf"],[1,"d-flex","align-items-center","gap-2"],["class","d-flex align-items-center gap-2",4,"ngIf"],[1,"pagination","mb-0"],["class","page-item",3,"disabled",4,"ngIf"],[1,"page-item"],["aria-label","Previous page",1,"page-link",3,"click","disabled"],[1,"bi","bi-chevron-left"],["class","page-item",3,"active",4,"ngFor","ngForOf"],["aria-label","Next page",1,"page-link",3,"click","disabled"],[1,"bi","bi-chevron-right"],[1,"col-md-3","text-center","mb-2","fw-bold"],[1,"col-md-12","text-end"],[1,"btn","btn-sm","btn-outline-info","me-2",3,"click"],[1,"bi","bi-search"],[1,"btn","btn-sm","btn-outline-danger",3,"click"],[1,"bi","bi-x-circle"],["type","text",1,"form-control",3,"placeholder","ngModel"],[1,"form-select",3,"ngModel"],[1,"input-group"],["type","text",1,"form-control",3,"ngModelChange","placeholder","ngModel"],[1,"form-select",3,"ngModelChange","ngModel"],["value",""],[3,"value"],["type","date",1,"form-control",3,"ngModelChange","ngModel"],[3,"class"],[3,"click"],[1,"btn-group"],["type","button","data-bs-toggle","dropdown",1,"btn","btn-sm","btn-outline-secondary","dropdown-toggle"],[1,"dropdown-menu"],[1,"dropdown-item",3,"click"],["type","button",1,"btn","btn-sm","btn-outline-success",3,"click"],[1,"fa-solid","fa-plus"],["type","checkbox",3,"change","checked"],[3,"click","ngClass"],["class","fa-solid fa-arrow-up ms-1",4,"ngIf"],["class","fa-solid fa-arrow-down ms-1",4,"ngIf"],["class","fa-solid fa-sort ms-1",4,"ngIf"],[1,"fa-solid","fa-arrow-up","ms-1"],[1,"fa-solid","fa-arrow-down","ms-1"],[1,"fa-solid","fa-sort","ms-1"],[1,"text-center","p-4"],[3,"ngTemplateOutlet"],[1,"text-muted"],[2,"vertical-align","middle",3,"ngClass"],[1,"action-column"],[1,"badge",3,"ngClass"],[1,"progress"],[1,"table-image",3,"src","alt"],[3,"text","wordLimit"],[1,"progress-bar",3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"d-flex","gap-2"],[3,"class","appTooltip","tooltipConfig"],[3,"click","appTooltip","tooltipConfig"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"text-muted","d-none","d-sm-inline"],["type","number",1,"form-control",2,"width","70px",3,"ngModelChange","keyup.enter","ngModel","min","max"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"],["aria-label","First page",1,"page-link",3,"click","disabled"],[1,"bi","bi-chevron-bar-left"],[1,"page-link",3,"click","disabled"],["aria-label","Last page",1,"page-link",3,"click","disabled"],[1,"bi","bi-chevron-bar-right"]],template:function(e,n){e&1&&(r(0,"div",0),f(1,qn,10,0,"div",1),a(),r(2,"div",2)(3,"div",3)(4,"div",4),f(5,Zn,3,0,"div",5)(6,Jn,7,0,"div",6),a(),f(7,Xn,5,0,"div",6),a()(),r(8,"div",7)(9,"table",8)(10,"thead")(11,"tr"),f(12,Kn,2,1,"th",9),P(13,oi,4,13,"th",10,Bn),f(15,ri,2,0,"th"),a()(),r(16,"tbody"),f(17,li,4,2,"tr")(18,mi,4,2,"tr"),P(19,Ei,5,3,"tr",11,$),a(),f(21,Fi,3,1,"tfoot",12),a()(),r(22,"div",13)(23,"div",14)(24,"select",15),V("ngModelChange",function(c){return N(n.pageSize,c)||(n.pageSize=c),c}),u("ngModelChange",function(){return n.onPageSizeChange()}),f(25,Ii,2,2,"option",16),a(),f(26,Ai,2,3,"span",17),a(),r(27,"div",18),f(28,Bi,6,3,"div",19),r(29,"ul",20),f(30,Ri,3,3,"li",21),r(31,"li",22)(32,"button",23),u("click",function(){return n.changePage(n.currentPage-1)}),g(33,"i",24),a()(),f(34,Ni,3,4,"li",25),r(35,"li",22)(36,"button",26),u("click",function(){return n.changePage(n.currentPage+1)}),g(37,"i",27),a()(),f(38,Vi,3,3,"li",21),a()()()),e&2&&(s(),h(n.config.enableSearch?1:-1),s(4),h(n.config.enableRowSelection&&n.selectedRows.length?5:-1),s(),h(n.config.enableExport?6:-1),s(),h(n.config.enableAdd?7:-1),s(2),p("ngClass",n.getTableClasses()),s(3),h(n.config.enableRowSelection?12:-1),s(),O(n.visibleColumns),s(2),h(n.actionButtons.length?15:-1),s(2),h(n.loading?17:-1),s(),h(!n.loading&&!n.displayedData.length?18:-1),s(),O(n.displayedData),s(2),p("ngIf",n.config.showFooter),s(3),R("ngModel",n.pageSize),s(),p("ngForOf",n.config.pageSizeOptions),s(),p("ngIf",n.config.showPageInfo),s(2),p("ngIf",n.config.showPageJump),s(2),p("ngIf",n.config.showFirstLast),s(),T("disabled",n.currentPage===1),s(),p("disabled",n.currentPage===1),s(2),p("ngForOf",n.visiblePages),s(),T("disabled",n.currentPage===n.totalPages),s(),p("disabled",n.currentPage===n.totalPages),s(2),p("ngIf",n.config.showFirstLast))},dependencies:[Q,Fe,Ie,Z,Bt,De,H,Nt,Rt,re,Tt,ne,Ot,kt,Et,Dt,Ye,Ze],styles:[".table-responsive[_ngcontent-%COMP%]{overflow-x:auto}.table[_ngcontent-%COMP%]   th.sortable[_ngcontent-%COMP%]{cursor:pointer}.sort-icon[_ngcontent-%COMP%]{width:12px;height:12px}.selection-column[_ngcontent-%COMP%]{width:40px;text-align:center}.action-column[_ngcontent-%COMP%]{white-space:nowrap;width:1%}.table-image[_ngcontent-%COMP%]{max-height:50px;max-width:50px;object-fit:contain}.progress[_ngcontent-%COMP%]{margin-bottom:0}@media (max-width: 768px){.action-column[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{display:none}.table-responsive[_ngcontent-%COMP%]{margin-bottom:1rem}}.pagination[_ngcontent-%COMP%]{flex-wrap:nowrap;margin-bottom:0}.page-link[_ngcontent-%COMP%]{min-width:40px;text-align:center;padding:.375rem;-webkit-user-select:none;user-select:none}@media (max-width: 576px){.pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]:not(.active):not(:first-child):not(:last-child){display:none}.form-select[_ngcontent-%COMP%]{width:100%!important}}"]})};var Qe=class i{blogDataService=w(ze);data;columns=[{key:"sn",label:"S.N",type:"sn",width:"80px"},{key:"id",label:"ID",type:"number",sortable:!0,width:"80px",hidden:!0},{key:"title",label:"Blog Title",type:"text",sortable:!0,filterable:!0,filterType:"text",cellClass:"font-bold"},{key:"image",label:"Image",type:"image"},{key:"description",label:"Content",type:"text",isTextFixedLength:!0,width:"22rem"},{key:"createdAt",label:"Created at",type:"date",sortable:!0,filterable:!0,filterType:"date"}];tableConfig={showHeader:!0,showFooter:!1,enableSearch:!0,enableAdd:!0,enableSort:!0,enableFilter:!0,enablePagination:!0,enableRowSelection:!1,enableExport:!1,pageSize:10,pageSizeOptions:[1,2,5,10,25,50],theme:"default",selectionType:"multi",exportFormats:["excel","pdf","csv"],rowClass:t=>t.status==="inactive"?"bg-light":"",showFirstLast:!0,showPageJump:!0,showPageInfo:!0};actionButtons=[{label:"Edit",icon:"bi bi-pencil",class:"btn btn-sm btn-outline-primary",action:"edit",visible:t=>t.status!=="inactive"},{label:"Delete",icon:"bi bi-trash",class:"btn btn-sm btn-outline-danger",action:"delete"},{label:"View",icon:"bi bi-eye",class:"btn btn-sm btn-outline-primary",action:"view"}];toastrService=w(se);spinnerService=w(le);router=w(E);route=w(j);ngOnInit(){this.fetchBlogs()}fetchBlogs(){return U(this,null,function*(){this.spinnerService.show(),this.blogDataService.getAllBlogs().subscribe({next:t=>{Array.isArray(t)?this.data=t:(this.toastrService.error("Fetched blogs are in an invalid format."),this.data=[]),this.spinnerService.hide()},error:t=>{console.error("Error fetching blogs:",t),this.toastrService.error("Failed to fetch blogs: "+t.message),this.data=[],this.spinnerService.hide()}})})}onRowClick(t){console.log("Row clicked:",t)}onActionClick(t){if(console.log("Action clicked:",t),t&&t.action.toLowerCase()==="add"&&this.router.navigate(["admin/base/add-blog"]),t&&t.action.toLowerCase()==="edit"){let e=t.item.postId;this.router.navigate([`admin/base/edit-blog/${e}`])}if(t&&t.action.toLowerCase()==="delete"){let e=t.item.postId;this.blogDataService.deleteBlog(e).subscribe({next:n=>{this.toastrService.success("Delete Blog Successfully."),this.spinnerService.hide()},error:n=>{console.error("Error while deleting blogs:",n),this.toastrService.error("Error while deleting blogs: "+n.message),this.spinnerService.hide()}})}}onFilterChange(t){console.log("Filters changed:",t)}onSortChange(t){console.log("Sort changed:",t)}onPageChange(t){console.log("Page changed:",t)}onExportData(t){console.log("Exporting data:",t)}onRowSelect(t){console.log("Selected rows:",t)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=S({type:i,selectors:[["app-blogs"]],decls:8,vars:4,consts:[[1,"container-fluid","py-4"],[1,"row","mb-4"],[1,"col"],[1,"text-muted"],[3,"actionClick","data","columns","config","actionButtons"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),d(4,"Blogs Management"),a(),r(5,"p",3),d(6,"Manage your system blog you have post."),a()()()(),r(7,"app-dynamic-table",4),u("actionClick",function(c){return n.onActionClick(c)}),a()),e&2&&(s(7),p("data",n.data)("columns",n.columns)("config",n.tableConfig)("actionButtons",n.actionButtons))},dependencies:[Q,ce],styles:[".text-truncate[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]})};var de=class i{constructor(t){this.firestore=t}USER_COLLECTION_NAME="users";createUser(t){try{let e=lt(this.firestore,this.USER_COLLECTION_NAME),n=ge(e),o=pe(G({},t),{createdAt:new Date,updatedAt:new Date});return he(qt(n,o)).pipe(Ce(()=>n.id),K(c=>(console.error("Error creating user:",c),A(()=>new Error(`Failed to create user: ${c.message}`)))))}catch(e){return A(()=>new Error(`Failed to create user: ${e.message}`))}}getAllUsers(t=1,e=10){try{let n=lt(this.firestore,this.USER_COLLECTION_NAME),o=[Ht("createdAt","desc"),jt(e)];t>1&&o.push(Gt((t-1)*e));let c=Wt(n,...o);return Ut(c,{idField:"id"}).pipe(Ce(m=>m),K(m=>(console.error("Error fetching users:",m),A(()=>new Error(`Failed to fetch users: ${m.message}`)))))}catch(n){return A(()=>new Error(`Failed to fetch users: ${n.message}`))}}getUserById(t){try{let e=ge(this.firestore,`${this.USER_COLLECTION_NAME}/${t}`);return Lt(e,{idField:"postId"}).pipe(Ce(n=>n),K(n=>(console.error("Error fetching blog:",n),A(()=>new Error(`Failed to fetch blog: ${n.message}`)))))}catch(e){return A(()=>new Error(`Failed to fetch blog: ${e.message}`))}}updateUser(t,e){try{let n=ge(this.firestore,`${this.USER_COLLECTION_NAME}/${t}`),o=pe(G({},e),{updatedAt:new Date});return he(Yt(n,o)).pipe(K(c=>(console.error("Error updating user:",c),A(()=>new Error(`Failed to update user: ${c.message}`)))))}catch(n){return A(()=>new Error(`Failed to update user: ${n.message}`))}}deleteUser(t){try{let e=ge(this.firestore,`${this.USER_COLLECTION_NAME}/${t}`);return he($t(e)).pipe(K(n=>(console.error("Error deleting user:",n),A(()=>new Error(`Failed to delete user: ${n.message}`)))))}catch(e){return A(()=>new Error(`Failed to delete blog: ${e.message}`))}}static \u0275fac=function(e){return new(e||i)(L(zt))};static \u0275prov=B({token:i,factory:i.\u0275fac,providedIn:"root"})};var Je=class i{constructor(t,e,n){this.router=t;this.route=e;this.userService=n}columns=[{key:"sn",label:"S.N.",type:"sn",sortable:!1},{key:"id",label:"ID",type:"number",sortable:!0,width:"80px",hidden:!0},{key:"name",label:"Name",type:"text",sortable:!0,filterable:!0,filterType:"text",cellClass:"font-bold"},{key:"email",label:"Email",type:"text",cellClass:"font-bold"},{key:"phone",label:"Phone",type:"text",cellClass:"font-bold"},{key:"role",label:"Role",type:"text",sortable:!0,filterable:!0,filterType:"text",cellClass:"font-bold"},{key:"isActive",label:"Status",type:"boolean"},{key:"createdAt",label:"Created Date",type:"date",sortable:!0},{key:"updatedAt",label:"Update Date",type:"date",sortable:!0}];tableConfig={showHeader:!0,showFooter:!1,enableSearch:!0,enableAdd:!0,enableSort:!0,enableFilter:!0,enablePagination:!0,enableRowSelection:!0,enableExport:!0,pageSize:10,pageSizeOptions:[5,10,25,50],theme:"default",selectionType:"multi",exportFormats:["excel","pdf","csv"],rowClass:t=>t.status==="inactive"?"bg-light":"",showFirstLast:!0,showPageJump:!0,showPageInfo:!0};actionButtons=[{label:"Edit",icon:"bi bi-pencil",class:"btn btn-sm btn-outline-primary",action:"edit"},{label:"Delete",icon:"bi bi-trash",class:"btn btn-sm btn-outline-danger",action:"delete",visible:t=>t.role!=="admin"},{label:"View",icon:"bi bi-eye",class:"btn btn-sm btn-outline-primary",action:"view"}];bulkActions=[{label:"Delete Selected",icon:"bi bi-trash",class:"btn btn-sm btn-outline-danger me-3",action:"bulk-delete"},{label:"Export Selected",icon:"bi bi-download",class:"btn btn-sm btn-outline-secondary me-3",action:"bulk-export"}];onActionClick(t){if(console.log("Action clicked:",t),t&&t.action.toLowerCase()==="add"&&this.router.navigate(["admin/base/add-user"]),t&&t.action.toLowerCase()==="edit"){let e=t.item.id;this.router.navigate([`admin/base/edit-user/${e}`])}}onRowClick(t){console.log("Row clicked:",t)}onFilterChange(t){console.log("Filters changed:",t)}onSortChange(t){console.log("Sort changed:",t)}onPageChange(t){console.log("Page changed:",t)}onExportData(t){console.log("Exporting data:",t)}onRowSelect(t){console.log("Selected rows:",t)}users=[];ngOnInit(){return U(this,null,function*(){this.loadUsers()})}loadUsers(){this.userService.getAllUsers().subscribe({next:t=>this.users=t,error:t=>console.error("Error loading users:",t)})}navigateToCreate(){this.router.navigate(["/users/create"])}editUser(t){this.router.navigate(["/users/edit",t])}deleteUser(t){return U(this,null,function*(){if(confirm("Are you sure you want to delete this user?"))try{yield this.userService.deleteUser(t),this.users=this.users.filter(e=>e.id!==t)}catch(e){console.error("Error deleting user:",e)}})}static \u0275fac=function(e){return new(e||i)(y(E),y(j),y(de))};static \u0275cmp=S({type:i,selectors:[["app-user"]],decls:8,vars:5,consts:[[1,"container-fluid","py-4"],[1,"row","mb-4"],[1,"col"],[1,"text-muted"],[3,"rowClick","actionClick","filterChange","sortChange","pageChange","exportData","rowSelect","columns","data","config","actionButtons","bulkActions"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),d(4,"User management"),a(),r(5,"p",3),d(6,"Manage your system users."),a()()()(),r(7,"app-dynamic-table",4),u("rowClick",function(c){return n.onRowClick(c)})("actionClick",function(c){return n.onActionClick(c)})("filterChange",function(c){return n.onFilterChange(c)})("sortChange",function(c){return n.onSortChange(c)})("pageChange",function(c){return n.onPageChange(c)})("exportData",function(c){return n.onExportData(c)})("rowSelect",function(c){return n.onRowSelect(c)}),a()),e&2&&(s(7),p("columns",n.columns)("data",n.users)("config",n.tableConfig)("actionButtons",n.actionButtons)("bulkActions",n.bulkActions))},dependencies:[ce],encapsulation:2})};function zi(i,t){i&1&&(r(0,"div",20),d(1," Name is required and must be at least 2 characters. "),a())}function Ui(i,t){i&1&&(r(0,"div",20),d(1," A valid email is required. "),a())}function Li(i,t){i&1&&(r(0,"div",20),d(1," Valid 10-digit phone number is required. "),a())}var ue=class i{constructor(t,e,n,o){this.fb=t;this.userService=e;this.router=n;this.route=o;this.userForm=this.createUserForm()}userForm;isEditMode=!1;userId=null;toastrService=w(se);spinnerService=w(le);ngOnInit(){this.detectEditModeAndLoadData()}createUserForm(){return this.fb.group({name:["",[z.required,z.minLength(2)]],email:["",[z.required,z.email]],phone:["",[z.required,z.pattern(/^\+?[\d\s-]{10,}$/)]],role:["user",z.required],isActive:[!0]})}detectEditModeAndLoadData(){this.userId=this.route.snapshot.paramMap.get("id"),this.isEditMode=!!this.userId,this.isEditMode&&this.userId&&this.loadUserData(this.userId)}loadUserData(t){this.spinnerService.show(),this.userService.getUserById(t).subscribe({next:e=>{e?(this.userForm.patchValue(e),this.spinnerService.hide()):(this.toastrService.error("User not found."),this.router.navigate(["admin/base/users"]))},error:e=>this.handleError(e,"Failed to load user details."),complete:()=>this.spinnerService.hide()})}onSubmit(){if(this.userForm.invalid){this.markFormControlsTouched();return}this.spinnerService.show(),this.isEditMode&&this.userId?this.updateUser(this.userId):this.createUser()}createUser(){this.userService.createUser(this.userForm.value).subscribe({next:()=>{this.toastrService.success("User created successfully"),this.router.navigate(["admin/base/users"])},error:t=>this.handleError(t,"Failed to create user."),complete:()=>this.spinnerService.hide()})}updateUser(t){this.userService.updateUser(t,this.userForm.value).subscribe({next:()=>{this.toastrService.success("User updated successfully"),this.router.navigate(["admin/base/users"])},error:e=>this.handleError(e,"Failed to update user."),complete:()=>this.spinnerService.hide()})}handleError(t,e){console.error(t),this.toastrService.error(e),this.spinnerService.hide()}markFormControlsTouched(){Object.keys(this.userForm.controls).forEach(t=>{this.userForm.get(t)?.markAsTouched()})}cancel(){this.router.navigate(["admin/base/users"])}static \u0275fac=function(e){return new(e||i)(y(Ae),y(de),y(E),y(j))};static \u0275cmp=S({type:i,selectors:[["app-add-edit-user"]],decls:35,vars:7,consts:[[1,"container-fluid"],[1,"form-container"],[1,"text-center","mb-4"],[1,"form-wrapper",3,"ngSubmit","formGroup"],[1,"mb-3"],["for","name",1,"form-label"],["type","text","id","name","formControlName","name","placeholder","Enter full name",1,"form-control","form-control-sm"],["class","error-text",4,"ngIf"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email","placeholder","Enter email address",1,"form-control","form-control-sm"],["for","phone",1,"form-label"],["type","tel","id","phone","formControlName","phone","placeholder","Enter 10-digit phone number",1,"form-control","form-control-sm"],["for","role",1,"form-label"],["id","role","formControlName","role",1,"form-control","form-control-sm"],["value","user"],["value","admin"],[1,"form-check"],["type","checkbox","id","isActive","formControlName","isActive",1,"form-check-input"],["for","isActive",1,"form-check-label"],["type","submit",1,"btn","btn-primary","w-100",3,"disabled"],[1,"error-text"]],template:function(e,n){if(e&1&&(r(0,"div",0)(1,"div",1)(2,"h2",2),d(3),a(),r(4,"form",3),u("ngSubmit",function(){return n.onSubmit()}),r(5,"div",4)(6,"label",5),d(7,"Name"),a(),g(8,"input",6),f(9,zi,2,0,"div",7),a(),r(10,"div",4)(11,"label",8),d(12,"Email"),a(),g(13,"input",9),f(14,Ui,2,0,"div",7),a(),r(15,"div",4)(16,"label",10),d(17,"Phone"),a(),g(18,"input",11),f(19,Li,2,0,"div",7),a(),r(20,"div",4)(21,"label",12),d(22,"Role"),a(),r(23,"select",13)(24,"option",14),d(25,"User"),a(),r(26,"option",15),d(27,"Admin"),a()()(),r(28,"div",4)(29,"div",16),g(30,"input",17),r(31,"label",18),d(32,"Active"),a()()(),r(33,"button",19),d(34),a()()()()),e&2){let o,c,m;s(3),C(n.isEditMode?"Edit User":"Create User"),s(),p("formGroup",n.userForm),s(5),p("ngIf",((o=n.userForm.get("name"))==null?null:o.invalid)&&((o=n.userForm.get("name"))==null?null:o.touched)),s(5),p("ngIf",((c=n.userForm.get("email"))==null?null:c.invalid)&&((c=n.userForm.get("email"))==null?null:c.touched)),s(5),p("ngIf",((m=n.userForm.get("phone"))==null?null:m.invalid)&&((m=n.userForm.get("phone"))==null?null:m.touched)),s(14),p("disabled",n.userForm.invalid),s(),x(" ",n.isEditMode?"Update User":"Create User"," ")}},dependencies:[Be,Te,Fe,Ie,Z,Pe,De,H,Oe,ke,Ee,ne],styles:[".container-fluid[_ngcontent-%COMP%]{padding:0 20px;margin:0;display:flex;flex-direction:column;height:100%}h2[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:#333;margin-bottom:30px}.form-wrapper[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{font-weight:500;font-size:14px;color:#555}.form-wrapper[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{padding:8px 12px;font-size:14px;border-radius:6px;border:1px solid #ccc;transition:border-color .3s}.form-wrapper[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{border-color:#0056b3;box-shadow:0 0 8px #0056b333}.error-text[_ngcontent-%COMP%]{color:red;font-size:12px;margin-top:5px}button[_ngcontent-%COMP%]{font-size:14px;padding:12px;border-radius:6px}button[_ngcontent-%COMP%]:disabled{background-color:#ccc}"]})};var Xe=class i{constructor(t){this.storage=t}uploadImage(t,e){if(!t)return A(()=>new Error("No file provided"));let n=Jt(this.storage,e),o=Xt(n,t);return new pt(c=>{o.on("state_changed",m=>{let M=m.bytesTransferred/m.totalBytes*100;console.log("Upload progress: "+M+"%")},m=>{console.error("Upload error:",m),c.error(m)},()=>U(this,null,function*(){try{let m=yield Qt(n);c.next(m),c.complete()}catch(m){c.error(m)}}))})}static \u0275fac=function(e){return new(e||i)(L(Zt))};static \u0275prov=B({token:i,factory:i.\u0275fac,providedIn:"root"})};function $i(i,t){i&1&&(r(0,"div",17),d(1," Title is required. "),a())}function ji(i,t){if(i&1&&(r(0,"div",18),g(1,"img",19),a()),i&2){let e=l();s(),p("src",e.imagePreviewUrl,X)}}var fe=class i{constructor(t){this.fb=t;this.blogForm=this.fb.group({title:["",z.required],description:["",z.required],category:["",z.required],image:[null],tags:[""]})}blogForm;selectedImage=null;editMode=!1;blogId;imagePreviewUrl=null;blogService=w(ze);spinnerService=w(le);toastrService=w(se);router=w(E);route=w(j);fileService=w(Xe);ngOnInit(){this.route.params.subscribe(t=>{t.id&&(this.editMode=!0,this.blogId=t.id,this.loadBlogData(this.blogId))})}loadBlogData(t){this.blogService.getBlogById(t).subscribe(e=>{this.blogForm.patchValue({title:e.title,category:e.category,description:e.description,tags:e.tags}),e.imageUrl&&(this.imagePreviewUrl=e.imageUrl)})}onFileSelected(t){let n=t.target?.files;if(!n||n.length===0)return;let o=n[0];if(!o.type.includes("image/")){this.toastrService.error("Please select an image file");return}if(o.size>5*1024*1024){this.toastrService.error("Image size should not exceed 5MB");return}this.selectedImage=o,this.imagePreviewUrl=URL.createObjectURL(o)}onSubmit(){return U(this,null,function*(){if(this.blogForm.invalid){this.markFormControlsTouched();return}this.spinnerService.show();try{this.selectedImage&&(yield this.uploadImage()),this.editMode&&this.blogId?this.updateBlog(this.blogId):this.createBlog()}catch(t){this.handleError(t,"Failed to process image.")}})}uploadImage(){return U(this,null,function*(){if(!this.selectedImage)return;let t=`blog-images/${Date.now()}_${this.selectedImage.name}`;return new Promise((e,n)=>{this.fileService.uploadImage(this.selectedImage,t).subscribe({next:o=>{this.blogForm.patchValue({imageUrl:o}),e()},error:o=>{n(o)}})})})}createBlog(){this.blogService.createBlog(this.blogForm.value).subscribe({next:()=>{this.toastrService.success("Blog created successfully"),this.router.navigate(["admin/base/blogs"])},error:t=>this.handleError(t,"Failed to create blog."),complete:()=>this.spinnerService.hide()})}updateBlog(t){this.blogService.updateBlog(t,this.blogForm.value).subscribe({next:()=>{this.toastrService.success("Blog updated successfully"),this.router.navigate(["admin/base/blogs"])},error:e=>this.handleError(e,"Failed to update user."),complete:()=>this.spinnerService.hide()})}handleError(t,e){console.error(t),this.toastrService.error(e),this.spinnerService.hide()}markFormControlsTouched(){Object.keys(this.blogForm.controls).forEach(t=>{this.blogForm.get(t)?.markAsTouched()})}ngOnDestroy(){this.imagePreviewUrl&&!this.imagePreviewUrl.includes("firebase")&&URL.revokeObjectURL(this.imagePreviewUrl)}static \u0275fac=function(e){return new(e||i)(y(Ae))};static \u0275cmp=S({type:i,selectors:[["app-add-edit-blogs"]],decls:36,vars:6,consts:[[1,"container-fluid"],[1,"form-container"],[1,"text-center","mb-4"],[1,"form-wrapper",3,"ngSubmit","formGroup"],[1,"mb-3"],[1,"row"],[1,"col-12","col-md-6","mb-3"],["for","title",1,"form-label"],["type","text","id","title","formControlName","title","placeholder","Enter blog title",1,"form-control","form-control-sm"],["class","error-text",4,"ngIf"],["for","category",1,"form-label"],["type","text","id","category","formControlName","category","placeholder","Enter blog category",1,"form-control","form-control-sm"],["id","description","formControlName","description","rows","4","placeholder","Enter blog description",1,"form-control","form-control-sm"],["type","text","id","tags","formControlName","tags","placeholder","Enter tags separated by commas",1,"form-control","form-control-sm"],["type","file","id","image","accept","image/*",1,"form-control","form-control-sm"],["class","mt-2",4,"ngIf"],["type","submit",1,"btn","btn-primary","w-100",3,"disabled"],[1,"error-text"],[1,"mt-2"],["alt","Preview",1,"img-preview",2,"max-width","200px","max-height","200px","object-fit","contain",3,"src"]],template:function(e,n){if(e&1&&(r(0,"div",0)(1,"div",1)(2,"h2",2),d(3),a(),r(4,"form",3),u("ngSubmit",function(){return n.onSubmit()}),r(5,"div",4)(6,"h5"),d(7,"Blog Details"),a(),r(8,"div",5)(9,"div",6)(10,"label",7),d(11,"Title"),a(),g(12,"input",8),f(13,$i,2,0,"div",9),a(),r(14,"div",6)(15,"label",10),d(16,"Category"),a(),g(17,"input",11),a()()(),r(18,"div",4)(19,"h5"),d(20,"Description"),a(),r(21,"div",4),g(22,"textarea",12),a()(),r(23,"div",4)(24,"h5"),d(25,"Tags"),a(),r(26,"div",4),g(27,"input",13),a()(),r(28,"div",4)(29,"h5"),d(30,"Blog Image"),a(),r(31,"div",4),g(32,"input",14),f(33,ji,2,1,"div",15),a()(),r(34,"button",16),d(35),a()()()()),e&2){let o;s(3),C(n.editMode?"Edit Blog":"Add New Blog"),s(),p("formGroup",n.blogForm),s(9),p("ngIf",((o=n.blogForm.get("title"))==null?null:o.invalid)&&((o=n.blogForm.get("title"))==null?null:o.touched)),s(20),p("ngIf",n.imagePreviewUrl),s(),p("disabled",n.blogForm.invalid),s(),x(" ",n.editMode?"Update Blog":"Submit"," ")}},dependencies:[Be,Te,Z,H,Oe,ke,Ee,ne],styles:[".container-fluid[_ngcontent-%COMP%]{padding:0 20px;margin:0;display:flex;flex-direction:column;height:100%}h2[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:#333;margin-bottom:30px}.form-wrapper[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{font-weight:500;font-size:14px;color:#555}.form-wrapper[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .form-wrapper[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%], .form-wrapper[_ngcontent-%COMP%]   textarea.form-control[_ngcontent-%COMP%]{padding:8px 12px;font-size:14px;border-radius:6px;border:1px solid #ccc;box-shadow:none;transition:all .3s ease}.form-wrapper[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus, .form-wrapper[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus, .form-wrapper[_ngcontent-%COMP%]   textarea.form-control[_ngcontent-%COMP%]:focus{border-color:#0056b3;box-shadow:0 0 8px #0056b333}textarea.form-control[_ngcontent-%COMP%]{resize:none}.error-text[_ngcontent-%COMP%]{color:red;font-size:12px;margin-top:5px}.mb-3[_ngcontent-%COMP%]{margin-bottom:20px}button[type=submit][_ngcontent-%COMP%]{font-size:14px;padding:12px;border-radius:6px;background-color:#0056b3;color:#fff;border:none;transition:background-color .3s ease}button[type=submit][_ngcontent-%COMP%]:hover{background-color:#003c8f}button[type=submit][_ngcontent-%COMP%]:disabled{background-color:#ccc}@media (max-width: 768px){.form-container[_ngcontent-%COMP%]{max-width:100%;padding:15px}h2[_ngcontent-%COMP%]{font-size:20px}.col-12[_ngcontent-%COMP%]{width:100%}button[type=submit][_ngcontent-%COMP%]{padding:10px;font-size:14px}}"]})};var Ke=class i{isAuthenticated(){return!!q.getStorage().userData}static \u0275fac=function(e){return new(e||i)};static \u0275prov=B({token:i,factory:i.\u0275fac,providedIn:"root"})};var be=class i{constructor(t,e){this.authService=t;this.router=e}canActivate(t,e){return this.checkAuth()}canActivateChild(t,e){return this.canActivate(t,e)}checkAuth(){return this.authService.isAuthenticated()?!0:(this.router.navigate(["auth/login"]),!1)}static \u0275fac=function(e){return new(e||i)(L(Ke),L(E))};static \u0275prov=B({token:i,factory:i.\u0275fac,providedIn:"root"})};var Ma=[{path:"base",component:qe,canActivate:[be],canActivateChild:[be],data:{title:"Base"},children:[{path:"dashboard",component:Ge,data:{title:"Dashboard",breadcrumb:"Dashboard"}},{path:"users",component:Je,data:{title:"User List",breadcrumb:"User"}},{path:"add-user",component:ue,data:{title:"Add User",breadcrumb:"Add User"}},{path:"edit-user/:id",component:ue,data:{title:"Edit User",breadcrumb:"Edit User"}},{path:"blogs",component:Qe,data:{title:"Blog",breadcrumb:"Blog"}},{path:"add-blog",component:fe,data:{title:"Add Blog",breadcrumb:"Add Blog"}},{path:"edit-blog/:id",component:fe,data:{title:"Edit Blog",breadcrumb:"Edit Blog"}}]}];export{Ma as AdminRoute};
