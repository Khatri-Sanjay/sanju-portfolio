import{a as _}from"./chunk-DDBTPCDV.js";import{d as S,e as x}from"./chunk-IWCHO6KV.js";import{b as U}from"./chunk-U4QENG4V.js";import"./chunk-5QEUZ45W.js";import{a as I}from"./chunk-LKRFXJAL.js";import"./chunk-7QMT4KPZ.js";import{B as A,b as F,c as E,e as l,f as k,g as L,l as T,p as N,s as j,z}from"./chunk-RKQNVUA7.js";import{a as D}from"./chunk-4HP7DDNK.js";import"./chunk-HDEMJ6KY.js";import{k as w}from"./chunk-Q7KS2YYF.js";import{$b as C,Bb as g,Hb as p,Jb as h,Kb as y,Mb as u,Qb as t,Rb as o,Sb as s,ja as M,kb as m,kc as i,qb as b,uc as v,wb as O}from"./chunk-67CIUIZ6.js";import{g as R,i as P}from"./chunk-66YHNWRR.js";var c=R(U());var K=a=>({"background-color":a});function B(a,r){a&1&&(t(0,"span",10),i(1,"Please enter a valid email"),o())}function V(a,r){a&1&&(t(0,"span",10),i(1,"Password is required"),o())}function q(a,r){a&1&&(s(0,"i",24),i(1," Logging in... "))}function J(a,r){a&1&&i(0," Login ")}var G=class a{constructor(r,n){this.fb=r;this.router=n;this.loginForm=this.fb.group({email:["",[l.required,l.email]],password:["",[l.required,l.minLength(6)]],rememberMe:[!1]})}loginForm;isLoading=!1;showPassword=!1;secretKey=D.STORAGE_KEY;toastrService=M(I);encryptedUsername=c.default.AES.encrypt("sanju@admin.com",this.secretKey).toString();encryptedPassword=c.default.AES.encrypt("@Sanju123",this.secretKey).toString();decrypt(r){return c.default.AES.decrypt(r,this.secretKey).toString(c.default.enc.Utf8)}isFieldInvalid(r){let n=this.loginForm.get(r);return n?.invalid&&(n?.dirty||n?.touched)||!1}onSubmit(){return P(this,null,function*(){if(this.loginForm.valid){this.isLoading=!0;let{email:r,password:n}=this.loginForm.value;try{yield new Promise(d=>setTimeout(d,1500));let e=this.decrypt(this.encryptedUsername),f=this.decrypt(this.encryptedPassword);if(r===e&&n===f){let d=_.getStorage();d.userData={id:"adminId",name:"Sanjay Khatri",email:"admin@admin.com",phone:"9861494803",role:"admin",createdAt:new Date("2025-01-21"),updatedAt:new Date("2025-01-21"),isActive:!0},_.setStorage(d),this.router.navigate(["admin/base/dashboard"])}else this.toastrService.error("Username or Password is wrong","Error")}catch(e){console.error("Login error:",e)}finally{this.isLoading=!1}}else Object.keys(this.loginForm.controls).forEach(r=>{let n=this.loginForm.get(r);n?.invalid&&n.markAsTouched()})})}static \u0275fac=function(n){return new(n||a)(b(z),b(S))};static \u0275cmp=O({type:a,selectors:[["app-login"]],decls:39,vars:15,consts:[[1,"auth-container"],[1,"auth-card"],[1,"auth-header"],[1,"subtitle"],[1,"auth-form",3,"ngSubmit","formGroup"],[1,"form-group"],["for","email"],[1,"input-container"],[1,"bi","bi-envelope"],["type","email","id","email","formControlName","email","placeholder","Enter your email"],[1,"error-message"],["for","password"],[1,"bi","bi-lock"],["id","password","formControlName","password","placeholder","Enter your password",3,"type"],["type","button",1,"toggle-password",3,"click"],[1,"bi"],[1,"form-footer"],[1,"remember-me"],["type","checkbox","id","remember","formControlName","rememberMe"],["for","remember"],["href","#",1,"forgot-password"],["type","submit",1,"submit-btn",3,"ngStyle","disabled"],[1,"auth-footer"],["routerLink","/auth/register"],[1,"bi","bi-arrow-clockwise","spinning"]],template:function(n,e){n&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),i(4,"Welcome Back"),o(),t(5,"p",3),i(6,"Please enter your credentials to login"),o()(),t(7,"form",4),C("ngSubmit",function(){return e.onSubmit()}),t(8,"div",5)(9,"label",6),i(10,"Email"),o(),t(11,"div",7),s(12,"i",8)(13,"input",9),o(),g(14,B,2,0,"span",10),o(),t(15,"div",5)(16,"label",11),i(17,"Password"),o(),t(18,"div",7),s(19,"i",12)(20,"input",13),t(21,"button",14),C("click",function(){return e.showPassword=!e.showPassword}),s(22,"i",15),o()(),g(23,V,2,0,"span",10),o(),t(24,"div",16)(25,"div",17),s(26,"input",18),t(27,"label",19),i(28,"Remember me"),o()(),t(29,"a",20),i(30,"Forgot password?"),o()(),t(31,"button",21),g(32,q,2,0)(33,J,1,0),o()(),t(34,"div",22)(35,"p"),i(36,"Don't have an account? "),t(37,"a",23),i(38,"Sign up"),o()()()()()),n&2&&(m(7),p("formGroup",e.loginForm),m(6),h("error",e.isFieldInvalid("email")),m(),u(e.isFieldInvalid("email")?14:-1),m(6),h("error",e.isFieldInvalid("password")),p("type",e.showPassword?"text":"password"),m(2),y(e.showPassword?"bi-eye-slash":"bi-eye"),m(),u(e.isFieldInvalid("password")?23:-1),m(8),p("ngStyle",v(13,K,e.loginForm.invalid?"grey":""))("disabled",e.loginForm.invalid||e.isLoading),m(),u(e.isLoading?32:33))},dependencies:[A,T,E,F,k,L,N,j,x,w],styles:[".auth-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:2rem;background:linear-gradient(135deg,#f6f7fb,#edf1f7)}.auth-card[_ngcontent-%COMP%]{background:#fff;border-radius:1rem;box-shadow:0 4px 24px #00000014;width:100%;max-width:440px;padding:2.5rem}.auth-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.auth-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:600;color:#1a1f36;margin-bottom:.5rem}.auth-header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:#6b7280;font-size:.875rem}.auth-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:1.25rem}.auth-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:.875rem;font-weight:500;color:#374151;margin-bottom:.5rem}.auth-form[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.auth-form[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;left:1rem;color:#9ca3af;font-size:1.125rem}.auth-form[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem .75rem 2.75rem;border:1px solid #e5e7eb;border-radius:.5rem;font-size:.875rem;transition:all .2s ease}.auth-form[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.auth-form[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#2563eb;box-shadow:0 0 0 3px #2563eb1a}.auth-form[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   input.error[_ngcontent-%COMP%]{border-color:#ef4444}.auth-form[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .toggle-password[_ngcontent-%COMP%]{position:absolute;right:3rem;bottom:2.3rem;background:none;border:none;color:#9ca3af;cursor:pointer;padding:0}.auth-form[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .toggle-password[_ngcontent-%COMP%]:hover{color:#6b7280}.auth-form[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{display:block;color:#ef4444;font-size:.75rem;margin-top:.375rem}.form-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin:1.5rem 0}.form-footer[_ngcontent-%COMP%]   .remember-me[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.form-footer[_ngcontent-%COMP%]   .remember-me[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:1rem;height:1rem}.form-footer[_ngcontent-%COMP%]   .remember-me[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.875rem;color:#4b5563;margin:0}.form-footer[_ngcontent-%COMP%]   .forgot-password[_ngcontent-%COMP%]{font-size:.875rem;color:#2563eb;text-decoration:none}.form-footer[_ngcontent-%COMP%]   .forgot-password[_ngcontent-%COMP%]:hover{text-decoration:underline}.terms-container[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:.5rem;margin:1.5rem 0}.terms-container[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{margin-top:.25rem}.terms-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.875rem;color:#4b5563}.terms-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#2563eb;text-decoration:none}.terms-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.submit-btn[_ngcontent-%COMP%]{width:100%;padding:.875rem;background:#2563eb;color:#fff;border:none;border-radius:.5rem;font-size:.875rem;font-weight:500;display:flex;align-items:center;justify-content:center;gap:.5rem;cursor:pointer;transition:all}"]})};export{G as LoginComponent};
