import{a as D}from"./chunk-ZT5HBNXB.js";import{a as j}from"./chunk-IZGJBPWP.js";import{Q as A}from"./chunk-V3Y375FU.js";import{a as L}from"./chunk-YIN6CZJO.js";import{d as F}from"./chunk-7EQR6UEB.js";import"./chunk-INCNJZSV.js";import"./chunk-YCIOEVS4.js";import"./chunk-INXHUJVL.js";import{h as O,n as T}from"./chunk-VSJQGL6V.js";import{$a as P,Ab as f,Fb as b,Gb as w,Hb as x,Ib as h,Jb as i,Kb as o,Lb as c,Pb as B,Tb as _,Ub as d,cc as a,dc as s,eb as r,ec as I,ha as g,mc as C,nc as k,oc as E,pa as u,pb as S,pc as M,qa as v,ub as y}from"./chunk-QZTINFOT.js";import"./chunk-66YHNWRR.js";var z=n=>({"liked-post":n}),H=n=>({liked:n}),R=(n,t)=>t.postId;function N(n,t){if(n&1&&c(0,"img",8),n&2){let e=d().$implicit;f("src",e.imageUrl,P)("alt",e.title)}}function U(n,t){n&1&&(i(0,"div",9)(1,"span"),a(2,"Blog"),o()())}function q(n,t){n&1&&(i(0,"div",10),a(1,"\u2764\uFE0F"),o())}function K(n,t){if(n&1&&(i(0,"span",25),a(1),o()),n&2){let e=t.$implicit;r(),I(" ",e," ")}}function Y(n,t){if(n&1){let e=B();i(0,"div",5)(1,"article",6),_("dblclick",function(){let m=u(e).$implicit,p=d();return v(p.handleDoubleClick(m))}),i(2,"div",7),y(3,N,1,2,"img",8)(4,U,3,0,"div",9)(5,q,2,0,"div",10),i(6,"div",11)(7,"button",12),c(8,"i",13),o()()(),i(9,"div",14)(10,"div",15)(11,"div",16),c(12,"img",17),o(),i(13,"div",18)(14,"h6",19),a(15),o(),i(16,"div",20)(17,"span"),a(18),k(19,"convertToStandardDateTime"),k(20,"date"),o()()()(),i(21,"h5",21),a(22),o(),i(23,"p",22),a(24),o(),i(25,"div",23)(26,"div",24),x(27,K,2,1,"span",25,w),o(),i(29,"div",26)(30,"div",27)(31,"button",28),_("click",function(m){let p=u(e).$implicit,$=d();return v($.handleLikeClick(p,m))}),c(32,"i",29),i(33,"span"),a(34),o()(),i(35,"button",30),c(36,"i",31),i(37,"span"),a(38),o()()(),i(39,"a",32),_("click",function(){let m=u(e).$implicit,p=d();return v(p.navigateToPost(m.postId))}),a(40," Read More "),o()()()()()()}if(n&2){let e=t.$implicit,l=d();r(),f("ngClass",C(16,z,l.likedPosts[e.postId])),r(2),b(e.imageUrl?3:4),r(2),b(l.animatingPosts[e.postId]?5:-1),r(10),s("Sanjay Khatri"),r(3),s(M(20,13,E(19,11,e.updatedAt),"medium")),r(4),s(e.title),r(2),s(e.description),r(3),h(e.tags),r(4),f("ngClass",C(18,H,l.likedPosts[e.postId])),r(),f("ngClass",l.likedPosts[e.postId]?"bi-heart-fill":"bi-heart"),r(2),s((e==null?null:e.likes)||0),r(4),s(e==null||e.comments==null?null:e.comments.length)}}var V=class n{posts=[];blogService=g(j);router=g(F);toastrService=g(L);spinnerService=g(A);likedPosts={};animatingPosts={};ngOnInit(){this.blogService.getAllBlogs().subscribe(t=>{this.posts=t,console.log("Blogs received:",t)},t=>{console.error("Error fetching blogs:",t)},()=>{console.log("Blog request completed")})}navigateToPost(t){this.router.navigate(["/portfolio/post",t])}handleDoubleClick(t){this.likedPosts[t.postId]||(t.likes=(t.likes||0)+1,this.likedPosts[t.postId]=!0,this.showHeartAnimation(t.postId),this.updatePost(t))}handleLikeClick(t,e){e.stopPropagation(),this.likedPosts[t.postId]?(t.likes=Math.max(0,(t.likes||1)-1),this.likedPosts[t.postId]=!1):(t.likes=(t.likes||0)+1,this.likedPosts[t.postId]=!0,this.showButtonAnimation(t.postId)),this.updatePost(t)}showHeartAnimation(t){this.animatingPosts[t]=!0,setTimeout(()=>{this.animatingPosts[t]=!1},1e3)}showButtonAnimation(t){}updatePost(t){this.blogService.updateBlog(t.postId,t).subscribe({next:()=>{},error:e=>this.handleError(e,"Failed to update post."),complete:()=>this.spinnerService.hide()})}handleError(t,e){console.error(t),this.toastrService.error(e),this.spinnerService.hide()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=S({type:n,selectors:[["app-blog-list"]],decls:9,vars:0,consts:[[1,"container-fluid","container-lg","py-5","py-lg-5"],[1,"text-center","mb-4","mb-lg-5"],[1,"display-4","fw-bold","mb-3"],[1,"lead","text-muted","w-lg-75","mx-auto"],[1,"row","row-cols-1","row-cols-md-2","row-cols-lg-4","g-4"],[1,"col"],[1,"card","h-100","shadow-sm","border-0","transition-hover","post-card",3,"dblclick","ngClass"],[1,"position-relative","image-container"],[1,"card-img-top","object-fit-cover",2,"height","200px",3,"src","alt"],[1,"placeholder-image","d-flex","justify-content-center","align-items-center",2,"height","200px","background-color","#f0f0f0","color","#888","font-size","24px","text-align","center"],[1,"floating-heart"],[1,"position-absolute","top-0","end-0","p-3"],[1,"btn","btn-light","btn-sm","rounded-circle","shadow-sm"],[1,"bi","bi-bookmark"],[1,"card-body","d-flex","flex-column"],[1,"d-flex","align-items-center","mb-3"],[1,"avatar"],["src","assets/image/sanjuprofile.png","alt","Profile Avatar"],[1,"ms-2"],[1,"mb-0","fw-semibold"],[1,"text-muted","small"],[1,"card-title","fw-bold","mb-3"],[1,"card-text","text-muted","flex-grow-1"],[1,"mt-3"],[1,"d-flex","flex-wrap","gap-2","mb-3"],[1,"badge","bg-primary","bg-opacity-10","text-primary","px-3","py-2","rounded-pill"],[1,"d-flex","justify-content-between","align-items-center"],[1,"d-flex","align-items-center","gap-3"],[1,"btn","btn-link","p-0","like-button",3,"click","ngClass"],[1,"bi",3,"ngClass"],[1,"btn","btn-link","text-muted","p-0"],[1,"bi","bi-chat","me-1"],[1,"btn","btn-primary","rounded-pill","px-4",3,"click"]],template:function(e,l){e&1&&(i(0,"div",0)(1,"header",1)(2,"h1",2),a(3,"Latest Blog Posts"),o(),i(4,"p",3),a(5,"Discover insightful articles and stay updated with our latest content"),o()(),i(6,"div",4),x(7,Y,41,20,"div",5,R),o()()),e&2&&(r(7),h(l.posts))},dependencies:[T,D,O],styles:[".transition-hover[_ngcontent-%COMP%]{transition:transform .2s ease-in-out}.transition-hover[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:linear-gradient(135deg,#0984e3,#00b894);display:flex;align-items:center;justify-content:center;overflow:hidden;border:3px solid green;position:relative}.avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;object-position:center}.like-button[_ngcontent-%COMP%]{position:relative;color:#888;transition:all .2s ease}.like-button.liked[_ngcontent-%COMP%]{color:#ed4956}.like-button.liked[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_heartBeat .5s ease-in-out}@keyframes _ngcontent-%COMP%_heartBeat{0%{transform:scale(1)}15%{transform:scale(1.3)}30%{transform:scale(.95)}45%{transform:scale(1.2)}60%{transform:scale(.95)}to{transform:scale(1)}}.image-container[_ngcontent-%COMP%]{position:relative;cursor:pointer;overflow:hidden}.floating-heart[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:80px;opacity:0;color:#fff;text-shadow:0 0 10px rgba(0,0,0,.3);pointer-events:none;animation:_ngcontent-%COMP%_instagramHeart 1s ease-in-out forwards;z-index:10}@keyframes _ngcontent-%COMP%_instagramHeart{0%{opacity:0;transform:translate(-50%,-50%) scale(.5)}15%{opacity:.9;transform:translate(-50%,-50%) scale(1.2)}30%{opacity:1;transform:translate(-50%,-50%) scale(.9)}45%{opacity:1;transform:translate(-50%,-50%) scale(1.1)}80%{opacity:.9;transform:translate(-50%,-50%) scale(1)}to{opacity:0;transform:translate(-50%,-50%) scale(1.5)}}.post-card[_ngcontent-%COMP%]{transition:all .3s ease}.post-card.liked-post[_ngcontent-%COMP%]{box-shadow:0 .5rem 1rem #ed49561a!important}"]})};export{V as BlogListComponent};
